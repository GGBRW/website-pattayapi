!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.dmp=n():t.dmp=n()}(this,function(){return dmpJsonp(["dmpvendor"],[,function(e,t,n){"use strict";function s(e){return"[object Array]"===E.call(e)}function a(e){return"[object ArrayBuffer]"===E.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function r(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function o(e){return"string"==typeof e}function c(e){return"number"==typeof e}function u(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function g(e){return"[object Date]"===E.call(e)}function f(e){return"[object File]"===E.call(e)}function p(e){return"[object Blob]"===E.call(e)}function d(e){return"[object Function]"===E.call(e)}function S(e){return l(e)&&d(e.pipe)}function y(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function P(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||s(e)||(e=[e]),s(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function m(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=m(t[n],e):t[n]=e}for(var t={},n=0,s=arguments.length;n<s;n++)P(arguments[n],e);return t}function k(e,t,n){return P(t,function t(s,a){e[a]=n&&"function"==typeof s?A(s,n):s}),e}var A=n(32),v=n(83),E=Object.prototype.toString;e.exports={isArray:s,isArrayBuffer:a,isBuffer:v,isFormData:i,isArrayBufferView:r,isString:o,isNumber:c,isObject:l,isUndefined:u,isDate:g,isFile:f,isBlob:p,isFunction:d,isStream:S,isURLSearchParams:y,isStandardBrowserEnv:b,forEach:P,merge:m,extend:k,trim:_}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var n=function(){},s=function(e,t){for(var n in e)t(e[n],n)},a=function(e,t){for(var n in t)e[n]=t[n];return e},i=function(e){return a({},e)},r=function(e,t){return a(i(e),t)},o=("undefined"!=typeof window?window:e).console||{},c=["debug","error","group","groupCollapsed","info","log","warn"],u=["clear","dir","groupEnd"],l=function(e){s(c,e)},g=function(e){s(u,e)},f=function(e){l(e),g(e)};f(function(e){o[e]=o[e]||n});var p={enabled:!0,styled:!0},d=i(p),S=function(e){return e&&(d=r(p,e)),d},y={},_={"border-radius":"2px",padding:"1px 3px",margin:"0 1px",color:"white"},b=function(e,t){if(null!=e&&null!=t)t=r(_,t),y[e]=t;else if(null!=e)return y[e];return Object.keys(y)},P=function(e){return null!=e&&(_=e),_},m=function(e){var t="";return s(y[e],function(e,n){t+=n+":"+e+";"}),t},k=function(e,t){return r(e,{background:t})};s(["green","red"],function(e){b(e,k({},e))}),b("orange",k({color:"black"},"orange"));var A=null,v=null,E=function(e){return null!=A&&!A.test(e)||null!=v&&v.test(e)},h=function(e){return{none:function t(){return A=null,v=null,e(),this},include:function t(n){return n!==A&&(A=n,e()),this},exclude:function t(n){return n!==v&&(v=n,e()),this}}},T={},I=function(e,t,n){var s=[];if(n){var a=T[n],i=a[0],r=a[1],o=a[2];s=I(i.label,r,o)}if(e){var c=t?"%c"+e:"["+e+"]";s[0]=""+(s[0]||"")+c}return t&&s.push(m(t)),s},L=function(e,t){var s=this,a=I(this.label,!!d.styled&&e,t);!d.enabled||E(a[0])?f(function(e){return s[e]=n}):(l(function(e){s[e]=(t=o[e]).bind.apply(t,[o].concat(a));var t}),g(function(e){s[e]=o[e].bind(o)}))},C=function e(t,n,s){this.label=t,L.bind(this,n,s)(),T[t]=[this,n,s]};C.prototype.define=function e(t,n){return new C(t,n,this.label)};var N=function(){s(T,function(e){var t=e[0],n=e[1],s=e[2];L.bind(t,n,s)()})},w=new C;w.get=function(e){return(T[e]||{})[0]};try{w.log()}catch(e){w=r(o,{define:function(){return w},get:function(){return w}})}w.style=b,w.defaultStyle=P,w.filter=h(N),w.config=function(e){return e&&"object"==typeof e&&(S(e),N()),d};var D=w;t.default=D}.call(t,n(5))},,,function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(g===setTimeout)return setTimeout(e,0);if((g===n||!g)&&setTimeout)return g=setTimeout,setTimeout(e,0);try{return g(e,0)}catch(t){try{return g.call(null,e,0)}catch(t){return g.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===s||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function r(){d&&S&&(d=!1,S.length?p=S.concat(p):y=-1,p.length&&o())}function o(){if(!d){var e=a(r);d=!0;for(var t=p.length;t;){for(S=p,p=[];++y<t;)S&&S[y].run();y=-1,t=p.length}S=null,d=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l=e.exports={},g,f;!function(){try{g="function"==typeof setTimeout?setTimeout:n}catch(e){g=n}try{f="function"==typeof clearTimeout?clearTimeout:s}catch(e){f=s}}();var p=[],d=!1,S,y=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||d||a(o)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.prependListener=u,l.prependOnceListener=u,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},,,,,,,function(e,t){!function(t){!function(e,t,n){function s(e,t){return typeof e===t}function a(){var e,t,n,a,i,r,o;for(var c in P)if(P.hasOwnProperty(c)){if(e=[],t=P[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(a=s(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)r=e[i],o=r.split("."),1===o.length?k[o[0]]=a:(!k[o[0]]||k[o[0]]instanceof Boolean||(k[o[0]]=new Boolean(k[o[0]])),k[o[0]][o[1]]=a),A.push((a?"":"no-")+o.join("-"))}}function i(e){var t=v.className,n=k._config.classPrefix||"";if(E&&(t=t.baseVal),k._config.enableJSClass){var s=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(s,"$1"+n+"js$2")}k._config.enableClasses&&(t+=" "+n+e.join(" "+n),E?v.className.baseVal=t:v.className=t)}function r(e,t){return!!~(""+e).indexOf(t)}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):E?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function c(){var e=t.body;return e||(e=o(E?"svg":"body"),e.fake=!0),e}function u(e,n,s,a){var i="modernizr",r,u,l,g,f=o("div"),p=c();if(parseInt(s,10))for(;s--;)l=o("div"),l.id=a?a[s]:i+(s+1),f.appendChild(l);return r=o("style"),r.type="text/css",r.id="s"+i,(p.fake?p:f).appendChild(r),p.appendChild(f),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),f.id=i,p.fake&&(p.style.background="",p.style.overflow="hidden",g=v.style.overflow,v.style.overflow="hidden",v.appendChild(p)),u=n(f,e),p.fake?(p.parentNode.removeChild(p),v.style.overflow=g,v.offsetHeight):f.parentNode.removeChild(f),!!u}function l(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function g(t,n,s){var a;if("getComputedStyle"in e){a=getComputedStyle.call(e,t,n);var i=e.console;if(null!==a)s&&(a=a.getPropertyValue(s));else if(i){var r=i.error?"error":"log";i[r].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else a=!n&&t.currentStyle&&t.currentStyle[s];return a}function f(t,s){var a=t.length;if("CSS"in e&&"supports"in e.CSS){for(;a--;)if(e.CSS.supports(l(t[a]),s))return!0;return!1}if("CSSSupportsRule"in e){for(var i=[];a--;)i.push("("+l(t[a])+":"+s+")");return i=i.join(" or "),u("@supports ("+i+") { #modernizr { position: absolute; } }",function(e){return"absolute"==g(e,null,"position")})}return n}function p(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function d(e,t,a,i){function c(){l&&(delete L.style,delete L.modElem)}if(i=!s(i,"undefined")&&i,!s(a,"undefined")){var u=f(e,a);if(!s(u,"undefined"))return u}for(var l,g,d,S,y,_=["modernizr","tspan","samp"];!L.style&&_.length;)l=!0,L.modElem=o(_.shift()),L.style=L.modElem.style;for(d=e.length,g=0;g<d;g++)if(S=e[g],y=L.style[S],r(S,"-")&&(S=p(S)),L.style[S]!==n){if(i||s(a,"undefined"))return c(),"pfx"!=t||S;try{L.style[S]=a}catch(e){}if(L.style[S]!=y)return c(),"pfx"!=t||S}return c(),!1}function S(e,t){return function(){return e.apply(t,arguments)}}function y(e,t,n){var a;for(var i in e)if(e[i]in t)return!1===n?e[i]:(a=t[e[i]],s(a,"function")?S(a,n||t):a);return!1}function _(e,t,n,a,i){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+T.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?d(o,t,a,i):(o=(e+" "+C.join(r+" ")+r).split(" "),y(o,t,n))}function b(e,t,s){return _(e,n,n,t,s)}var P=[],m={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){P.push({name:e,fn:t,options:n})},addAsyncTest:function(e){P.push({name:null,fn:e})}},k=function(){};k.prototype=m,k=new k;var A=[],v=t.documentElement,E="svg"===v.nodeName.toLowerCase(),h="Moz O ms Webkit",T=m._config.usePrefixes?h.split(" "):[];m._cssomPrefixes=T;var I={elem:o("modernizr")};k._q.push(function(){delete I.elem});var L={style:I.elem.style};k._q.unshift(function(){delete L.style});var C=m._config.usePrefixes?h.toLowerCase().split(" "):[];m._domPrefixes=C,m.testAllProps=_;var N=function(t){var s=D.length,a=e.CSSRule,i;if(void 0===a)return n;if(!t)return!1;if(t=t.replace(/^@/,""),(i=t.replace(/-/g,"_").toUpperCase()+"_RULE")in a)return"@"+t;for(var r=0;r<s;r++){var o=D[r],c=o.toUpperCase()+"_"+i;if(c in a)return"@-"+o.toLowerCase()+"-"+t}return!1};m.atRule=N;var w=m.prefixed=function(e,t,n){return 0===e.indexOf("@")?N(e):(-1!=e.indexOf("-")&&(e=p(e)),t?_(e,t,n):_(e,"pfx"))};m.testAllProps=b;var D=m._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];m._prefixes=D;var B=m.testStyles=u;/*!
{
  "name": "CSS Animations",
  "property": "cssanimations",
  "caniuse": "css-animation",
  "polyfills": ["transformie", "csssandpaper"],
  "tags": ["css"],
  "warnings": ["Android < 4 will pass this test, but can only animate a single property at a time"],
  "notes": [{
    "name" : "Article: 'Dispelling the Android CSS animation myths'",
    "href": "https://goo.gl/OGw5Gm"
  }]
}
!*/
k.addTest("cssanimations",b("animationName","a",!0)),/*!
{
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
!*/
k.addTest("csstransitions",b("transition","all",!0)),/*!
{
  "authors": ["Rick Byers"],
  "name": "Passive event listeners",
  "notes": [
    {
      "name": "WHATWG specification",
      "href": "https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-passive"
    },
    {
      "name": "WICG explainer",
      "href": "https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md"
    }
  ],
  "property": "passiveeventlisteners",
  "tags": ["dom"]
}
!*/
k.addTest("passiveeventlisteners",function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("test",null,n)}catch(e){}return t}),/*!
{
  "name": "SVG",
  "property": "svg",
  "caniuse": "svg",
  "tags": ["svg"],
  "authors": ["Erik Dahlstrom"],
  "polyfills": [
    "svgweb",
    "raphael",
    "amplesdk",
    "canvg",
    "svg-boilerplate",
    "sie",
    "dojogfx",
    "fabricjs"
  ]
}
!*/
k.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),/*!
{
  "name": "Touch Events",
  "property": "touchevents",
  "caniuse" : "touch",
  "tags": ["media", "attribute"],
  "notes": [{
    "name": "Touch Events spec",
    "href": "https://www.w3.org/TR/2013/WD-touch-events-20130124/"
  }],
  "warnings": [
    "Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device"
  ],
  "knownBugs": [
    "False-positive on some configurations of Nokia N900",
    "False-positive on some BlackBerry 6.0 builds â€“ https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695"
  ]
}
!*/
k.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var s=["@media (",D.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");B(s,function(e){n=9===e.offsetTop})}return n}),/*!
{
  "name": "WebGL",
  "property": "webgl",
  "caniuse": "webgl",
  "tags": ["webgl", "graphics"],
  "polyfills": ["jebgl", "cwebgl", "iewebgl"]
}
!*/
k.addTest("webgl",function(){var t=o("canvas"),n="probablySupportsContext"in t?"probablySupportsContext":"supportsContext";return n in t?t[n]("webgl")||t[n]("experimental-webgl"):"WebGLRenderingContext"in e}),a(),i(A),delete m.addTest,delete m.addAsyncTest;for(var R=0;R<k._q.length;R++)k._q[R]();e.Modernizr=k}(t,document),e.exports=t.Modernizr}(window)},,function(e,t,n){"use strict";(function(t){function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(28):void 0!==t&&(e=n(28)),e}var i=n(1),r=n(60),o={"Content-Type":"application/x-www-form-urlencoded"},c={adapter:a(),transformRequest:[function e(t,n){return r(n,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function e(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function e(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function e(t){c.headers[t]={}}),i.forEach(["post","put","patch"],function e(t){c.headers[t]=i.merge(o)}),e.exports=c}).call(t,n(6))},,function(e,t){try{!function(){var e=54e6,t=108e5,n={},s={},a=function e(t){this._placementID=t};a.prototype._getKey=function(){return"adnw_prebid:"+this._placementID},a.prototype._tryGetToken=function(){var s=null;try{s=window.localStorage.getItem(this._getKey())}catch(e){s=n[this._getKey()]}if(s)if(s=JSON.parse(s),s.hasToken){if(s.createdTime>Date.now()-e)return s.token}else if(s.createdTime>Date.now()-t)return s.token;return null},a.prototype._tryStoreToken=function(e){var t=JSON.stringify({hasToken:"nobid"!==e,token:e,createdTime:Date.now()});try{window.localStorage.setItem(this._getKey(),t)}catch(e){n[this._getKey()]=t}},a.prototype.getProfile=function(e){var t={placementid:this._placementID},n=this._tryGetToken();if(n)return void e({token:n});var a=function t(){e({token:"nobid"})},i=function t(n){var s=JSON.parse(n),a="nobid";"object"==typeof s&&"string"==typeof s.token&&(a=s.token),this._tryStoreToken(a);try{e({token:a})}catch(e){}};try{var r=s[this._getKey()];if(r||(r=[],s[this._getKey()]=r),r.push({onError:a,onLoad:i}),r.length>1)return;var o=new XMLHttpRequest;if(!("withCredentials"in o))return void a();o.open("POST","https://an.facebook.com/v1/prebid.json",!0),o.withCredentials=!0,o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===o.readyState&&(s[this._getKey()]=[],r.forEach(function(e){200===o.status?e.onLoad.apply(this,[o.responseText]):e.onError.apply(this)}.bind(this)))}.bind(this);var c=[];Object.keys(t).forEach(function(e){var n=t[e];c.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),o.send(c.join("&"))}catch(e){a()}},window.AudienceNetworkPrebid=a,window.anPrebidAsyncInit&&window.anPrebidAsyncInit()}()}catch(e){(new Image).src="https://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"2841424","namespace":"FB","message":"'+e.message+'"}}')}},,,function(e,t,n){e.exports=n(46)},,,,,function(e,t,n){var s,a;!function(n,i){"use strict";i(n.ns_=n.ns_||{}),s=[],void 0!==(a=function(){return n.ns_}.apply(t,s))&&(e.exports=a)}(this,function(e){"use strict";e.ns_=e;var t=t||{};t.indexOf=function(e,t){var n=-1;return this.forEach(t,function(t,s){t==e&&(n=s)}),n},t.forEach=function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var s=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!s||s&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&t.call(n,e[a],a)}else for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i)}catch(e){}};var t=t||{};t.parseBoolean=function(e,t){return t=t||!1,e?"0"!=e:t},t.parseInteger=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},t.parseLong=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},t.toString=function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()};var t=t||{};t.filter=function(e,t){var n={};for(var s in t)t.hasOwnProperty(s)&&e(t[s])&&(n[s]=t[s]);return n},t.extend=function(e){var t,n=arguments.length;e=e||{};for(var s=1;s<n;s++)if(t=arguments[s])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e};var t=t||{};t.cloneObject=function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function s(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function a(e,t){var n=new s;return t&&(n.maxDepth=t),n.deepCopy(e)}function i(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var r=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},s.prototype={constructor:s,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,s=0;s<n;s++)if(t[s][0]===e)return t[s][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<r.length;n++){var s=r[n];if(s.canCopy(e))return this.applyDeepCopier(s,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),++this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=r,a.register=function(e){e instanceof n||(e=new n(e)),r.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var s=0;s<t.length;s++)n.push(e(t[s]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return i(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var s=0;s<t.childNodes.length;s++){var a=e(t.childNodes[s]);n.appendChild(a)}}}),{deepCopy:a}}();return t.deepCopy(e)};var t=t||{};t.getNamespace=function(){return e.ns_||e},t.uid=function(){var e=1;return function(){return+new Date+"_"+e++}}(),t.isEmpty=function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},t.isNotEmpty=function(e){return!this.isEmpty(e)},t.safeGet=function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},t.isTrue=function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},t.regionMatches=function(e,t,n,s,a){if(t<0||s<0||t+a>e.length||s+a>n.length)return!1;for(;--a>=0;){var i=e.charAt(t++),r=n.charAt(s++);if(i!=r)return!1}return!0},t.exists=function(e){return void 0!==e&&null!=e},function(){var e=[],n=!1,s=!0,a=1e3;t.onSystemClockJump=function(t,i){e.push(t),n||(n=!0,a=i||a,s=+new Date,setInterval(function(){var t=s+a,n=+new Date;s=n;var i=n-t;if(Math.abs(i)>a)for(var r=0;r<e.length;++r)e[r](i>0)},a))}}();var t=t||{};t.hasPageVisibilityAPISupport=function(){if("undefined"==typeof document)return!1;var e=!1;return void 0!==document.hidden?e=!0:void 0!==document.mozHidden?e=!0:void 0!==document.msHidden?e=!0:void 0!==document.webkitHidden&&(e=!0),function(){return e}}(),t.getPageVisibilityAPI=function(){if("undefined"==typeof document)return null;var e,t,n;void 0!==document.hidden?(e="hidden",t="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var s={hidden:e,visibilityChange:t,state:n};return function(){return s}}(),t.isTabInBackground=function(){if("undefined"==typeof document)return null;var e=t.getPageVisibilityAPI();return function(){return document[e.hidden]}}(),t.getBrowserName=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",s=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?s="Opera":-1!=(t=n.indexOf("Android"))?s="Android":-1!=(t=n.indexOf("Chrome"))?s="Chrome":-1!=(t=n.indexOf("Safari"))?s="Safari":-1!=(t=n.indexOf("Firefox"))?s="Firefox":-1!=(t=n.indexOf("IEMobile"))?s="Internet Explorer Mobile":"Microsoft Internet Explorer"==s||"Netscape"==s?s="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(s=n.substring(e,t),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)):s="unknown",s},t.getBrowserFullVersion=function(){if(!navigator)return"";var e,t,n,s,a=navigator.userAgent||"",i=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=a.indexOf("Opera"))?(r=a.substring(t+6),-1!=(t=a.indexOf("Version"))&&(r=a.substring(t+8))):-1!=(t=a.indexOf("OPR/"))?r=a.substring(t+4):-1!=(t=a.indexOf("Android"))?r=a.substring(t+11):-1!=(t=a.indexOf("Chrome"))?r=a.substring(t+7):-1!=(t=a.indexOf("Safari"))?(r=a.substring(t+7),-1!=(t=a.indexOf("Version"))&&(r=a.substring(t+8))):-1!=(t=a.indexOf("Firefox"))?r=a.substring(t+8):"Microsoft Internet Explorer"==i?(s=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=s.exec(a)&&(r=parseFloat(RegExp.$1))):"Netscape"==i?(s=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=s.exec(a)&&(r=parseFloat(RegExp.$1))):r=a.lastIndexOf(" ")+1<(t=a.lastIndexOf("/"))?a.substring(t+1):"unknown",r=r.toString(),-1!=(n=r.indexOf(";"))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(" "))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(")"))&&(r=r.substring(0,n)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},t.browserAcceptsLargeURLs=function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.isWebSecure=function(){return"undefined"!=typeof document&&null!=document&&"s"===document.location.href.charAt(4)};var n=function(){var e=1e4;return function(t,n){function s(e){e=e||[];var n=[o,+new Date];return t&&n.push(t),e=Array.prototype.slice.call(e),n=n.concat(e)}function a(e){var t,s,a;if("boolean"==typeof n||!n)return!!n;if(a=e.join(" "),n instanceof Array&&n.length>0){for(t=0;t<n.length;++t)if((s=n[t])instanceof RegExp&&s.test(a))return!0;return!1}if("object"==typeof n){var i=!1;if(n.hide instanceof Array)for(t=0;t<n.hide.length;++t)if((s=n.hide[t])instanceof RegExp&&s.test(a)){i=!0;break}if(n.show instanceof Array)for(t=0;t<n.show.length;++t)if((s=n.show[t])instanceof RegExp&&s.test(a))return!0;return!i&&!n.show}return!0}function i(t){var s=c.length;(s>e||n&&n.max&&s>n.max)&&(c=c.slice(-Math.floor(n.max/2)),c.push("Previous logs: "+s)),c.push(t)}var r=this,o="comScore",c=[];r.log=function(){var e=s(arguments);i(e),"undefined"!=typeof console&&"function"==typeof console.log&&a(e)&&console.log.apply(console,e)},r.warn=function(){var e=s(arguments);i(e),"undefined"!=typeof console&&"function"==typeof console.warn&&a(e)&&console.warn.apply(console,e)},r.error=function(){var e=s(arguments);i(e),"undefined"!=typeof console&&"function"==typeof console.error&&a(e)&&console.error.apply(console,e)},r.apiCall=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},r.infoLog=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},r.deprecation=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)},r.getLogHistory=function(){return c}}}();return e.StreamingAnalytics=e.StreamingAnalytics||function(){var e=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,s){n&&n.setItem(e+t,s)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var s=n.key(t);s.substr(0,e.length)===e&&n.removeItem(s)}}})}}(),s=function(e,t){if("undefined"==typeof Image)return void("function"==typeof setTimeout?t&&setTimeout(t,0):t&&t());var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e},a=function(e,t,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)},i=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),r=function(){return{PLATFORM:"generic",httpGet:s,httpPost:a,Storage:e,IO:i,onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return o.UNKNOWN_VALUE},getAppVersion:function(){return o.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return o.UNKNOWN_VALUE},getPlatformVersion:function(){return o.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return o.UNKNOWN_VALUE},getRuntimeVersion:function(){return o.UNKNOWN_VALUE},getDisplayResolution:function(){return o.UNKNOWN_RESOLUTION},getApplicationResolution:function(){return o.UNKNOWN_RESOLUTION},getLanguage:function(){return o.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return o.UNKNOWN_VALUE},getConnectionType:function(){return o.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return o.UNKNOWN_VALUE},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}}}(),o={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};t.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var s=e[n];t[n]=null===s||void 0===s?s:e[n]+""}return t},t.getKeys=function(e,t){var n,s=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(s[s.length]=n);return s},t.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,s,a){var i={};if(!(s>=n))return t.cloneObject(e);if(i.start=n,i.end=s,0==e.length)return e.push(i),t.cloneObject(e);var r;for(r=0;r<e.length;r++)if(i.start>=e[r].start&&i.end<=e[r].end)return t.cloneObject(e);var o,c=!1;for(o=0;o<e.length;o++)if(o+1===e.length&&i.start>=e[o].start||i.start>=e[o].start&&i.start<e[o+1].start){e.splice(o+1,0,i),c=!0;break}c||e.splice(0,0,i);var u=[e[0]];for(r=1;r<e.length;r++)u[u.length-1].end+a<e[r].start?u.push(e[r]):u[u.length-1].end<e[r].end&&(u[u.length-1].end=e[r].end);return t.cloneObject(u)},t.stateToString=function(e){var t=B.InternalStates;for(var n in t)if(t.hasOwnProperty(n)&&t[n]==e)return n};var c=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),u=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),l=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),g={STREAMINGANALYTICS_VERSION:"6.1.0.170130",MODEL_VERSION:"5.8",LOG_NAMESPACE:"STA",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL:1e3,SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL:500,DEFAULT_ASSET_PLAYBACK_RATE:100,STANDARD_METADATA_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_ami","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]},f=function(){function e(){function e(){i={},i.ns_st_cl="0",i.ns_st_pn="1",i.ns_st_tp="0",i.ns_st_cn="1",i.ns_st_skd="0",i.ns_st_ci="0",i.c3="*null",i.c4="*null",i.c6="*null",i.ns_st_st="*null",i.ns_st_pu="*null",i.ns_st_pr="*null",i.ns_st_ep="*null",i.ns_st_sn="*null",i.ns_st_en="*null",i.ns_st_ct="*null",r={},a=!1,s=!1,n=o.UNKNOWN_VALUE,c=!0,u=0,l=NaN,S=0,p=0,f=NaN,y=0,_=NaN,P=0,b=0,d=0,A=NaN,m=[],k=[],v=0,E=0,h=0,T=0,I=0,L=0,C=0,N=NaN,w=0,D=0,B=0,R=!1,U=NaN,G=!1,x=0,j=0,O=0,F=0,M=0,K=0,Y=0,V=0,q=0,H=0,W=0,z=0,$=0,J=0,X=0,Q=!1,Z=g.DEFAULT_ASSET_PLAYBACK_RATE}var n,s,a,i,r,c,u,l,f,p,d,S,y,_,b,P,m,k,A,v,E,h,T,I,L,C,N,w,D,B,R,U,O,F,x,G,M,K,j,Y,V,q,H,W,z,$,J,X,Q,Z,ee=this,te=g.INTERVAL_MERGE_TOLERANCE;t.extend(this,{getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){te=e},getPlaybackIntervalMergeTolerance:function(){return te},setInternalLabel:function(e,t){i[e]=t},getInternalLabel:function(e){return i[e]},hasInternalLabel:function(e){return null!=i[e]},setLabels:function(e){e&&t.extend(r,e)},getLabels:function(){return r},setLabel:function(e,t){r[e]=t},getLabel:function(e){return r[e]},hasLabel:function(e){return e in r},getClipNumber:function(){return parseInt(ee.getInternalLabel("ns_st_cn"))},setClipNumber:function(e){ee.setInternalLabel("ns_st_cn",e+"")},getPartNumber:function(){return ee.hasLabel("ns_st_pn")?parseInt(ee.getLabel("ns_st_pn")):parseInt(ee.getInternalLabel("ns_st_pn"))},createLabels:function(e,n){var s=e||{},o=t.isEmpty(s.ns_st_pt)?ee.getPlaybackTime():parseInt(s.ns_st_pt);s.ns_st_pt=o+(isNaN(l)?0:n-l)+"",s.ns_st_dpt=o+(isNaN(l)?0:n-l)-p+"",s.ns_st_ipt=o+(isNaN(l)?0:n-l)-d+"";var c=t.isEmpty(s.ns_st_et)?ee.getElapsedTime():parseInt(s.ns_st_et);s.ns_st_et=c+(isNaN(_)?0:n-_)+"",s.ns_st_det=c+(isNaN(_)?0:n-_)-b+"";var u=t.isEmpty(s.ns_st_bt)?ee.getBufferingTime():parseInt(s.ns_st_bt);s.ns_st_bt=u+"",s.ns_st_dbt=u+(isNaN(N)?0:n-N)-w+"";for(var g,f=parseInt(s.ns_st_po),S=t.addNewPlaybackInterval(t.cloneObject(ee.getSegmentPlaybackIntervals()),Z<0?f:A,Z<0?A:f,te),y=t.addNewPlaybackInterval(t.cloneObject(ee.getAssetPlaybackIntervals()),Z<0?f:A,Z<0?A:f,te),P=0,m=0,k=0;k<S.length;k++)g=Math.abs(S[k].end-S[k].start),P+=g,g>m&&(m=g);var C=0,D=0;for(k=0,g;k<y.length;k++)g=Math.abs(y[k].end-y[k].start),C+=g,g>D&&(D=g);s.ns_st_upc=P+"",s.ns_st_dupc=P-v+"",s.ns_st_iupc=P-E+"",s.ns_st_iupc=P>E?P-E+"":"0",s.ns_st_lpc=m+"",s.ns_st_dlpc=m-h+"",s.ns_st_upa=C+"",s.ns_st_dupa=C-T+"",s.ns_st_iupa=C>I?C-I+"":"0",s.ns_st_lpa=D+"",s.ns_st_dlpa=D-L+"";var R=t.isEmpty(s.ns_st_pc)?ee.getPauses():parseInt(s.ns_st_pc);s.ns_st_pc=R+"",s.ns_st_dpc=R-V+"";var U=t.isEmpty(s.ns_st_skc)?ee.getSeeks():parseInt(s.ns_st_skc);s.ns_st_skc=U+"",s.ns_st_dskc=U-H+"";var O=t.isEmpty(s.ns_st_bc)?ee.getBuffers():parseInt(s.ns_st_bc);s.ns_st_bc=O+"",s.ns_st_dbc=O-B+"";var x=t.isEmpty(s.ns_st_skt)?ee.getSeekingTime():parseInt(s.ns_st_skt);s.ns_st_skt=x+"",s.ns_st_dskt=x-F+"";var G=t.isEmpty(s.ns_st_ska)?ee.getSeekingAmount():parseInt(s.ns_st_ska);return s.ns_st_ska=G+"",s.ns_st_dska=G-K+"",a&&(s.ns_st_spc=W+"",s.ns_st_apc=z+"",s.ns_st_sq=$+"",s.ns_st_asq=J+""),s.ns_st_sc=a||0!=X?X+"":"1",s.ns_st_rt=Z+"",t.extend(s,i,r),s},updateDeltaLabels:function(e){p=parseInt(e.ns_st_pt),b=parseInt(e.ns_st_et),w=parseInt(e.ns_st_bt),v=parseInt(e.ns_st_upc),h=parseInt(e.ns_st_lpc),T=parseInt(e.ns_st_upa),L=parseInt(e.ns_st_lpa),V=parseInt(e.ns_st_pc),H=parseInt(e.ns_st_skc),B=parseInt(e.ns_st_bc),F=parseInt(e.ns_st_skt),K=parseInt(e.ns_st_ska),ee.setSeekingDirection(0)},updateIndependentLabels:function(e){d=parseInt(e.ns_st_pt),E=parseInt(e.ns_st_upc),I=parseInt(e.ns_st_upa)},getVideoTrack:function(){return ee.getInternalLabel("ns_st_vt")},setVideoTrack:function(e){ee.setInternalLabel("ns_st_vt",e+"")},getAudioTrack:function(){return ee.getInternalLabel("ns_st_at")},setAudioTrack:function(e){ee.setInternalLabel("ns_st_at",e+"")},getSubtitleTrack:function(){return ee.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(e){ee.setInternalLabel("ns_st_tt",e+"")},getCDN:function(){return ee.getInternalLabel("ns_st_cdn")},setCDN:function(e){ee.setInternalLabel("ns_st_cdn",e+"")},getSegmentPlaybackIntervals:function(){return m},setAssetPlaybackIntervals:function(e){m=e},getAssetPlaybackIntervals:function(){return k},incrementPauses:function(){Y++},incrementSeeks:function(){q++},incrementPlayCounter:function(){$++},getPlayCounter:function(){return $},getBufferingTime:function(){return C},setBufferingTime:function(e){C=e},addBufferingTime:function(e){if(!isNaN(N)){var t=ee.getBufferingTime();t+=e-N,ee.setBufferingTime(t),N=NaN}},setPlaybackStartPosition:function(e){A=parseInt(e)},getPlaybackStartPosition:function(){return A},addInterval:function(e){isNaN(A)||isNaN(e)||(m=t.addNewPlaybackInterval(m,Z<0?e:A,Z<0?A:e,te),k=t.addNewPlaybackInterval(k,Z<0?e:A,Z<0?A:e,te),A=NaN)},getElapsedTime:function(){return y},setElapsedTime:function(e){y=e},addElapsedTime:function(e){if(!isNaN(_)){var t=ee.getElapsedTime();t+=e-_,ee.setElapsedTime(t),_=NaN}},getElapsedTimestamp:function(){return _},setElapsedTimestamp:function(e){_=e},addPlaybackTime:function(e){if(!isNaN(l)){var t=ee.getPlaybackTime();t+=e-l,ee.setPlaybackTime(t),l=NaN}},getPlaybackTime:function(){return u},getExpectedPlaybackPosition:function(e){return isNaN(l)?S:S+Math.floor((e-l)*Z/100)},setPlaybackTimeOffset:function(e){S=e},getPlaybackTimeOffset:function(){return S},setPlaybackTime:function(e){u=e},getPlaybackTimestamp:function(){return l},setPlaybackTimestamp:function(e){l=e},setPreviousPlaybackTime:function(e){p=e},setPreviousPlaybackTimestamp:function(e){f=e},getBufferingTimestamp:function(){return N},setBufferingTimestamp:function(e){N=e},getPauses:function(){return Y},setPauses:function(e){Y=e},getSeeks:function(){return q},setSeeks:function(e){q=e},setSeeking:function(e){R=e},isSeeking:function(){return R},setCollectingSeekingTime:function(e){G=e},isCollectingSeekingTime:function(){return G},setAssetStarted:function(e){s=e},isAssetStarted:function(){return s},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){U=e},getSeekingTimestamp:function(){return U},addSeekingTime:function(e){if(!isNaN(U)){var t=ee.getSeekingTime();t+=e-U,ee.setSeekingTime(t),U=NaN}},getSeekingTime:function(){return O},setSeekingTime:function(e){O=e},setSeekingTimeBeforeEnd:function(e){j=e},getSeekingTimeBeforeEnd:function(){return j},setSeekStartPosition:function(e){x=e},getSeekStartPosition:function(){return x},setSeekingAmount:function(e){M=e},getSeekingAmount:function(){return M},addSeekingAmount:function(e){var t=ee.getSeekingAmount();t+=Math.abs(e-x),ee.setSeekingAmount(t);var n;x==e?n=0:x>e?n=-1:x<e&&(n=1),ee.setSeekingDirection(n),x=0},getSeekingDirection:function(){return parseInt(ee.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(e){ee.setInternalLabel("ns_st_skd",e+"")},resetAssetLifecycleLabels:function(){u=0,p=0,d=0,C=0,w=0,D=0,B=0,Y=0,V=0,$=0,k=[],T=0,I=0,L=0,y=0,b=0,O=0,F=0,M=0,K=0,q=0,H=0},incrementSegmentPlaybackCounter:function(){W++},incrementAssetLoadCounter:function(){X++},incrementAssetPlaybackCounter:function(){z++},getPreviousUniquePlaybackInterval:function(){return v},setPreviousUniquePlaybackInterval:function(e){v=e},getPreviousEventIndependentUniquePlaybackInterval:function(){return E},setPreviousEventIndependentUniquePlaybackInterval:function(e){E=e},setPreviousLongestPlaybackInterval:function(e){h=e},getPreviousLongestPlaybackInterval:function(){return h},resetAssetPlaybackIntervals:function(){k=[],T=0,I=0,L=0},setSegmentPlaybackCounter:function(e){W=e},setAssetLoadCounter:function(e){X=e},setAssetPlaybackCounter:function(e){z=e},setLowestPartNumberPlayed:function(e){P=e},getSegmentPlaybackCounter:function(){return W},getAssetLoadCounter:function(){return X},getAssetPlaybackCounter:function(){return z},getLowestPartNumberPlayed:function(){return P},getBuffers:function(){return D},incrementBufferCount:function(){D++},getPreviousBufferingTime:function(){return w},setPlaySequenceCounter:function(e){J=e},incrementPlaySequenceCounter:function(){J++},getPlaySequenceCounter:function(){return J},isPlaybackSessionLooping:function(){return Q},setPlaybackSessionLooping:function(e){Q=e},enableAutoCalculatePositions:function(e){c=!!e},isAutoCalculatePositionsEnabled:function(){return c},getPlaybackRate:function(){return Z},setPlaybackRate:function(e){Z=e}}),e()}return e.resetAsset=function(e,t,n){for(var s=e.getLabels(),a={},i=0;n&&i<n.length;++i)s.hasOwnProperty(n[i])&&(a[n[i]]=s[n[i]]);t.setLabels(a),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),p=function(){function e(e){function n(){s=new f,o={},o.ns_st_id=+new Date+"",l={},a=NaN,i=0,r=NaN,d={},S=0,p=!1,y=!1,_=0,P=0,b=0,m=1,k=0,A=[]}var s,a,i,r,o,l,p,d,S,y,_,b,P,m,k,A,v=this;t.extend(this,{resetAsset:function(){var e=s;s=new f,f.resetAsset(e,s)},hashExists:function(e){return null!=d[e]},storeHash:function(e){d[e]={}},removeHash:function(e){delete d[e]},storeAssetPlaybackCounters:function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].clipNumber===s.getClipNumber()){t.extend(d[e],{segmentPlaybackCounter:s.getSegmentPlaybackCounter(),assetLoadCounter:s.getAssetLoadCounter(),assetPlaybackCounter:s.getAssetPlaybackCounter(),lowestPartNumberPlayed:s.getLowestPartNumberPlayed(),seeking:s.isSeeking(),seekingTimeBeforeEnd:s.getSeekingTimeBeforeEnd(),seekingStartPosition:s.getSeekStartPosition(),segmentPlaybackIntervals:s.getSegmentPlaybackIntervals(),videoTrack:s.getVideoTrack(),audioTrack:s.getAudioTrack(),subtitleTrack:s.getSubtitleTrack(),cdn:s.getCDN(),playSequenceCounter:s.getPlaySequenceCounter(),previousUniquePlaybackInterval:s.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:s.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:s.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(e){return d[e]},getClipNumber:function(e){return d[e].clipNumber},getMaxClipNumber:function(){return S},storeClipNumber:function(e,t){d[e].clipNumber=t,t>S&&(S=t)},setLabels:function(e){null!=e&&t.extend(l,e)},getLabels:function(){return l},setLabel:function(e,t){var n={};n[e]=t,v.setLabels(n)},getLabel:function(e){return l[e]},getAsset:function(){return s},addInternalErrorFlag:function(e){for(var t=0;t<A.length;++t)if(A[t]==e)return;A.push(e)},createLabels:function(n,a){var i=n||{},c=t.isEmpty(i.ns_st_pa)?v.getPlaybackTime():parseInt(i.ns_st_pa);return i.ns_st_pa=c+(isNaN(r)?0:a-r)+"",i.ns_st_pp=P+"",i.ns_st_sp=m+"",i.ns_st_bp=k+"",y||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1"),s.isPlaybackStarted()&&(i.ns_st_ppc=_+"",i.ns_st_psq=b+""),A.length>0&&(i.ns_st_ie=(i.ns_st_ie?i.ns_st_ie+";":"")+A.join(";")),t.extend(i,o,l),e.getPlaybackSession().getAsset().createLabels(i,a),i},incrementPlayCounter:function(){m++},incrementPauses:function(){P++},addPlaybackTime:function(e){if(!isNaN(r)){var t=v.getPlaybackTime();t+=e-r,v.setPlaybackTime(t),r=NaN}},addBufferingTime:function(e){if(!isNaN(a)){var t=v.getBufferingTime();t+=e-a,v.setBufferingTime(t),a=NaN}},getBufferingTime:function(){return k},setBufferingTime:function(e){k=e},getPlaybackTime:function(){return i},setBufferingTimestamp:function(e){a=e},getBufferingTimestamp:function(){return a},setPlaybackTime:function(e){i=e},setPlaybackTimestamp:function(e){r=e},getPlaybackTimestamp:function(){return r},getPauses:function(){return P},setPauses:function(e){P=e},isPlaybackSessionStarted:function(){return p},setPlaybackSessionStarted:function(e){p=e},getPlaybackCounter:function(){return _},incrementPlaybackCounter:function(){_++},setFirstEventSent:function(e){y=e},setPlaySequenceCounter:function(e){b=e},incrementPlaySequenceCounter:function(){b++},getPlaybackSessionID:function(){return o.ns_st_id},setAsset:function(n,s){e.getLogging().apiCall("setAsset",n,s),n=t.jsonObjectToStringDictionary(n);var a=e.getStateMachine().getCurrentState();if(a!=u.IDLE){e.getLogging().infoLog("Ending the current Clip. It was in state:",t.stateToString(a));var i={};e.getStaCore().newEvent(c.END,t.fixEventTime(i),i)}var r="",o=0;if(null!=n.ns_st_cn)r=n.ns_st_cn;else for(var l=0;l<g.STANDARD_METADATA_LABELS.length;l++)n[g.STANDARD_METADATA_LABELS[l]]&&(r+=g.STANDARD_METADATA_LABELS[l]+":"+n[g.STANDARD_METADATA_LABELS[l]]+";");var f=v,p=f.getAsset();p.isAssetStarted()?(f.hashExists(p.getHash())||(f.storeHash(p.getHash()),f.storeClipNumber(p.getHash(),p.getClipNumber())),f.storeAssetPlaybackCounters(),o=f.hashExists(r)?f.getClipNumber(r):t.exists(n.ns_st_cn)?parseInt(n.ns_st_cn):f.getMaxClipNumber()+1):o=f.hashExists(r)?f.getClipNumber(r):p.getClipNumber(),f.resetAsset(),p=f.getAsset(),p.setHash(r),p.setClipNumber(o),p.setLabels(n);var d=f.getStoredAssetRegisters(r);d&&(p.setAssetStarted(!0),p.setSegmentPlaybackCounter(d.segmentPlaybackCounter),p.setAssetLoadCounter(d.assetLoadCounter),p.setAssetPlaybackCounter(d.assetPlaybackCounter),p.setLowestPartNumberPlayed(d.lowestPartNumberPlayed),p.setSeeking(d.seeking),p.setSeekingTimeBeforeEnd(d.seekingTimeBeforeEnd),p.setSeekStartPosition(d.seekingStartPosition),p.setAssetPlaybackIntervals(d.segmentPlaybackIntervals),d.videoTrack&&p.setVideoTrack(d.videoTrack),d.audioTrack&&p.setAudioTrack(d.audioTrack),d.subtitleTrack&&p.setSubtitleTrack(d.subtitleTrack),d.cdn&&p.setCDN(d.cdn),p.setPlaySequenceCounter(d.playSequenceCounter),p.setPreviousUniquePlaybackInterval(d.previousUniquePlaybackInterval),p.setPreviousEventIndependentUniquePlaybackInterval(d.previousEventIndependentUniquePlaybackInterval),p.setPreviousLongestPlaybackInterval(d.previousLongestPlaybackInterval)),p.incrementAssetLoadCounter(),p.isAssetStarted()&&s&&f.incrementPlayCounter(),s&&(f.setPlaySequenceCounter(0),p.setPlaybackSessionLooping(!0)),!t.exists(n.ns_st_tp)&&t.exists(n.ns_st_ad)&&t.isNotEmpty(n.ns_st_ad)&&"0"!==n.ns_st_ad&&p.setInternalLabel("ns_st_tp","1")}}),n()}return e.resetPlaybackSession=function(e,t,n){for(var s=t.getAsset(),a=t.getLabels(),i={},r=0;n&&r<n.length;r++)a.hasOwnProperty(n[r])&&(i[n[r]]=a[n[r]]);e.getPlaybackSession().setLabels(i),f.resetAsset(s,e.getPlaybackSession().getAsset(),n)},e}(),d=function(){return function(e){function n(){a=1}function s(n){i=t.extend({},n);var s=e.getStaCore().getLiveEndpointURL();if(e.getAppCore()){if(e.getStaCore().isProperlyInitialized()){var a=e.getStaCore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher){var r=e.getAppCore().getMeasurementDispatcher();r.send(a.HIDDEN,n,s)}else{var o=e.getStaCore().getExports().am,c=o.newApplicationMeasurement(e.getAppCore(),a.HIDDEN,n,s);e.getAppCore().getQueue().offer(c)}}}else s&&e.getStaCore().getPlatformAPI().httpGet(e.getStaCore().prepareUrl(s,n))}var a,i,r=this,o=[];t.extend(this,{newEvent:function(e){for(var t=0;t<o.length;++t)o[t](e.eventLabels);s(e.eventLabels),e.eventType!=c.HEARTBEAT&&r.incrementEventCounter()},addMeasurementListener:function(e){"function"==typeof e&&o.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<o.length;++n)if(o[n]==e){t=n;break}isNaN(t)||o.splice(t,1)},getEventCounter:function(){return a},incrementEventCounter:function(){a++},setEventCounter:function(e){a=e},getMeasurementSnapshot:function(){return i}}),n()}}(),S=function(){return function(e){function n(){r=0,o=0}function s(){o++;var n={},s=t.fixEventTime(n);n.ns_st_hc=e.getHeartbeat().getCount()+"";var a=e.getStaCore().createLabels(c.HEARTBEAT,n,s);e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),r=0,u.resume()}function a(){null!=i&&(e.getStaCore().getPlatformAPI().clearTimeout(i),i=null)}var i,r,o,u=this,l=g.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return o},setIntervals:function(e){l=e},getInterval:function(e){var t=0;if(null!=l)for(var n=0;n<l.length;n++){var s=l[n],a=s.playingtime;if(!a||e<a){t=s.interval;break}}return t},getIntervals:function(){return l},resume:function(){a();var t=u.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));if(t>0){var n=r>0?r:t;i=e.getStaCore().getPlatformAPI().setTimeout(s,n)}r=0},pause:function(){a();var t=u.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));r=t-(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()))%t}}),n()}}(),y=function(){return function(e){function n(){}function s(){var n={},s=t.fixEventTime(n);e.getStaCore().newPseudoEvent(c.KEEPALIVE,s,n),r.start()}function a(){null!=i&&(e.getStaCore().getPlatformAPI().clearTimeout(i),i=null)}var i,r=this,o=g.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(r,{start:function(){a(),i=e.getStaCore().getPlatformAPI().setTimeout(s,o)},stop:a,setInterval:function(e){o=e},getInterval:function(){return o}})}}(),_=function(){return function(e){function n(){i=u.IDLE,a=null,s=NaN}var s,a,i,r=this;t.extend(r,{eventTypeToState:function(e){if(i==u.IDLE){if(e==c.PLAY)return u.PLAYING;if(e==c.SEEK_START)return u.SEEKING_BEFORE_PLAYBACK;if(e==c.BUFFER)return u.BUFFERING_BEFORE_PLAYBACK}else if(i==u.PLAYBACK_NOT_STARTED){if(e==c.PLAY)return u.PLAYING;if(e==c.SEEK_START)return u.SEEKING_BEFORE_PLAYBACK;if(e==c.BUFFER)return u.BUFFERING_BEFORE_PLAYBACK;if(e==c.END||e==c.AD_SKIP)return u.IDLE}else if(i==u.PLAYING){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.BUFFER)return u.BUFFERING_DURING_PLAYBACK;if(e==c.PAUSE)return u.PAUSED;if(e==c.SEEK_START)return u.SEEKING_DURING_PLAYBACK}else if(i==u.PAUSED){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.BUFFER)return u.BUFFERING_DURING_PAUSE;if(e==c.PLAY)return u.PLAYING;if(e==c.SEEK_START)return u.SEEKING_DURING_PAUSE}else if(i==u.BUFFERING_BEFORE_PLAYBACK){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PAUSE||e==c.BUFFER_STOP)return u.PLAYBACK_NOT_STARTED;if(e==c.PLAY)return u.PLAYING;if(e==c.SEEK_START)return u.SEEKING_BEFORE_PLAYBACK}else if(i==u.BUFFERING_DURING_PLAYBACK){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PLAY||e==c.BUFFER_STOP)return u.PLAYING;if(e==c.PAUSE_ON_BUFFERING)return u.PAUSED_DURING_BUFFERING;if(e==c.SEEK_START)return u.SEEKING_DURING_BUFFERING;if(e==c.PAUSE)return u.PAUSED}else if(i==u.BUFFERING_DURING_SEEKING){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PLAY)return u.PLAYING;if(e==c.BUFFER_STOP)return u.SEEKING_DURING_PLAYBACK;if(e==c.PAUSE)return u.PAUSED}else if(i==u.BUFFERING_DURING_PAUSE){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PLAY)return u.PLAYING;if(e==c.SEEK_START)return u.SEEKING_DURING_PAUSE;if(e==c.BUFFER_STOP||e==c.PAUSE)return u.PAUSED}else if(i==u.SEEKING_BEFORE_PLAYBACK){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PAUSE)return u.PLAYBACK_NOT_STARTED;if(e==c.PLAY)return u.PLAYING;if(e==c.BUFFER)return u.BUFFERING_BEFORE_PLAYBACK}else if(i==u.SEEKING_DURING_PLAYBACK){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PLAY)return u.PLAYING;if(e==c.PAUSE)return u.PAUSED;if(e==c.BUFFER)return u.BUFFERING_DURING_SEEKING}else if(i==u.SEEKING_DURING_BUFFERING){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PLAY)return u.PLAYING;if(e==c.PAUSE||e==c.BUFFER_STOP)return u.PAUSED;if(e==c.BUFFER)return u.BUFFERING_DURING_SEEKING}else if(i==u.SEEKING_DURING_PAUSE){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.PLAY)return u.PLAYING;if(e==c.PAUSE||e==c.BUFFER_STOP)return u.PAUSED;if(e==c.BUFFER)return u.BUFFERING_DURING_PAUSE}else if(i==u.PAUSED_DURING_BUFFERING){if(e==c.END||e==c.AD_SKIP)return u.IDLE;if(e==c.SEEK_START)return u.SEEKING_DURING_BUFFERING;if(e==c.PAUSE)return u.PAUSED;if(e==c.PLAY||e==c.BUFFER_STOP)return u.PLAYING}return null},getCurrentState:function(){return i},newEvent:function(e,t){var n=r.eventTypeToState(e);i!=n&&(a=i,i=n,s=t)},getPreviousState:function(){return a},getLastStateChangeTimestamp:function(){return s}}),n()}}(),b=function(){return function(e){var n=this;t.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().isCollectingSeekingTime()||(e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onBufferWhenSeekingOrPaused:function(t,n){e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(t,n){var s=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getHeartbeat().resume(),e.getKeepAlive().start()}})}}(),P=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().isCollectingSeekingTime()||(e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),m=function(){return function(e){var n=this;t.extend(n,{onEndAndSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),k=function(){return function(e){var n=this;t.extend(n,{onPauseOnBuffering:function(t,n){parseInt(n.ns_st_po),e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var s=e.getStaCore().createLabels(c.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(s.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t)},onEndOrAdSkip:function(n,s){parseInt(s.ns_st_po),e.getStaCore().stopPausedOnBufferingTimer(),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var a=e.getStaCore().createLabels(c.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onPause:function(t,n){parseInt(n.ns_st_po),e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var s=e.getStaCore().createLabels(c.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(s.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}}(),A=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getStaCore().stopPausedOnBufferingTimer(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses(),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),v=function(){return function(e){var n=this;t.extend(n,{onBuffer:function(t,n){e.getPlaybackSession().setPlaybackSessionStarted(!0),e.getPlaybackSession().getAsset().setAssetStarted(!0),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().setSeekingTime(e.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t)},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().setPlaybackSessionStarted(!0),e.getPlaybackSession().getAsset().setAssetStarted(!0),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().setSeekingTime(e.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().setPlaybackSessionStarted(!0),e.getPlaybackSession().getAsset().setAssetStarted(!0),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().setSeekingTime(e.getPlaybackSession().getAsset().getSeekingTimeBeforeEnd()),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),E=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),h=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addBufferingTime(n),e.getPlaybackSession().getAsset().addBufferingTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1));var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().isCollectingSeekingTime()||(e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0)):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPause:function(t,n){e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().addBufferingTime(t),e.getPlaybackSession().getAsset().addBufferingTime(t),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),T=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()?e.getPlaybackSession().getAsset().setSeekingTimestamp(t):e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().isSeeking()||(e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t))},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().setPlaybackSessionStarted(!0),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onBuffer:function(){e.getPlaybackSession().setBufferingTimestamp(eventTimestamp),e.getPlaybackSession().getAsset().setBufferingTimestamp(eventTimestamp)}})}}(),I=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){var a=parseInt(s.ns_st_po);e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(n),e.getPlaybackSession().getAsset().addPlaybackTime(n),e.getPlaybackSession().getAsset().addElapsedTime(n),e.getPlaybackSession().getAsset().addInterval(a);var i=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(i.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(i.eventLabels),e.getEventManager().newEvent(i),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBuffer:function(t,n){var s=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(t),e.getPlaybackSession().getAsset().addPlaybackTime(t),e.getPlaybackSession().getAsset().addInterval(s),e.getStaCore().isPauseOnBufferingEnabled()&&e.getStaCore().startPausedOnBufferingTimer(t,n),e.getPlaybackSession().getAsset().incrementBufferCount(),e.getPlaybackSession().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().setBufferingTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)},onSeekStart:function(t,n){var s=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(t),e.getPlaybackSession().getAsset().addPlaybackTime(t),e.getPlaybackSession().getAsset().addInterval(s),e.getPlaybackSession().getAsset().incrementSeeks(),e.getPlaybackSession().getAsset().setSeeking(!0),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!0),e.getPlaybackSession().getAsset().setSeekStartPosition(s),e.getPlaybackSession().getAsset().setSeekingTimestamp(t),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var a=e.getStaCore().createLabels(c.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)},onPause:function(t,n){var s=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),e.getPlaybackSession().addPlaybackTime(t),e.getPlaybackSession().getAsset().addPlaybackTime(t),e.getPlaybackSession().getAsset().addInterval(s),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses();var a=e.getStaCore().createLabels(c.PAUSE,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),L=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1))},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),(e.getPlaybackSession().getAsset().isPlaybackSessionLooping()||0==e.getPlaybackSession().getPlaybackCounter())&&(e.getPlaybackSession().incrementPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaybackSessionLooping(!1)),e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().setPlaybackStarted(!0),e.getPlaybackSession().getAsset().incrementSegmentPlaybackCounter(),(0==e.getPlaybackSession().getAsset().getLowestPartNumberPlayed()||e.getPlaybackSession().getAsset().getPartNumber()<=e.getPlaybackSession().getAsset().getLowestPartNumberPlayed())&&(e.getPlaybackSession().getAsset().setLowestPartNumberPlayed(e.getPlaybackSession().getAsset().getPartNumber()),e.getPlaybackSession().getAsset().incrementAssetPlaybackCounter(),e.getPlaybackSession().getAsset().setPlaySequenceCounter(0),e.getPlaybackSession().getAsset().resetAssetPlaybackIntervals()),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),C=function(){return function(e){var n=this;t.extend(n,{onPause:function(t,n){e.getPlaybackSession().incrementPauses(),e.getPlaybackSession().getAsset().incrementPauses(),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t)}})}}(),N=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,s){parseInt(s.ns_st_po),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getPlaybackSession().getAsset().addElapsedTime(n);var a=e.getStaCore().createLabels(c.END,s,n);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),e.getPlaybackSession().getAsset().isSeeking()&&e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().setSeekingTimeBeforeEnd(n-e.getPlaybackSession().getAsset().getSeekingTimestamp()),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().storeAssetPlaybackCounters(),e.getPlaybackSession().getAsset().resetAssetLifecycleLabels(),e.getPlaybackSession().getAsset().setPlaybackStarted(!1),s.hasOwnProperty("ns_st_pe")&&t.parseBoolean(s.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var s=parseInt(n.ns_st_po);e.getPlaybackSession().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlaySequenceCounter(),e.getPlaybackSession().getAsset().incrementPlayCounter(),e.getPlaybackSession().getAsset().isSeeking()&&(e.getPlaybackSession().getAsset().isCollectingSeekingTime()&&(e.getPlaybackSession().getAsset().addSeekingTime(t),e.getPlaybackSession().getAsset().setCollectingSeekingTime(!1)),e.getPlaybackSession().getAsset().addSeekingAmount(s),e.getPlaybackSession().getAsset().setSeeking(!1)),e.getPlaybackSession().getAsset().addElapsedTime(t),e.getPlaybackSession().getAsset().setElapsedTimestamp(t),e.getPlaybackSession().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackTimestamp(t),e.getPlaybackSession().getAsset().setPlaybackStartPosition(s),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var a=e.getStaCore().createLabels(c.PLAY,n,t);e.getPlaybackSession().getAsset().updateDeltaLabels(a.eventLabels),e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}}(),w=function(){return function(e){function s(){if(w=new D(ae),t.getNamespace().comScore?(ie=t.getNamespace().comScore.exports,w.setAppCore(ie.c())):w.setAppCore(null),e.publisherId){ae.setLabel("c2",e.publisherId);var s=e.secure;!s&&w.getAppCore()?s=w.getAppCore().isSecure():!s&&t.isBrowser()&&(s=t.isWebSecure());var a=(s?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";ae.setLiveEndpointURL(a)}e.liveEndpointURL&&ae.setLiveEndpointURL(e.liveEndpointURL),w.setKeepAlive(new y(w)),w.setHeartbeat(new S(w)),w.setEventManager(new d(w)),w.setStateMachine(new _),w.setLogging(new n(g.LOG_NAMESPACE,e.debug)),w.setPlaybackSession(new p(w)),B=new v(w),R=new E(w),U=new T(w),O=new I(w),F=new P(w),x=new k(w),G=new A(w),M=new m(w),K=new h(w),j=new L(w),Y=new C(w),V=new N(w),q=new b(w),H=!1,W=0,z=+new Date,J=!0,Q=!1,ee=[],e.systemClockJumpDetection&&ae.enableSystemClockJumpsDetection(parseInt(e.systemClockJumpDetectionInterval))}function a(e){var t=w.getStateMachine().getCurrentState();if(t==u.IDLE||t==u.PLAYBACK_NOT_STARTED||t==u.BUFFERING_BEFORE_PLAYBACK||t==u.SEEKING_BEFORE_PLAYBACK){if(e==c.PLAY)return!0}else if(t==u.PLAYING){if(e==c.END||e==c.AD_SKIP||e==c.SEEK_START||e==c.PAUSE)return!0}else if(t==u.PAUSED||t==u.BUFFERING_DURING_PAUSE||t==u.SEEKING_DURING_PLAYBACK||t==u.SEEKING_DURING_BUFFERING||t==u.SEEKING_DURING_PAUSE){if(e==c.END||e==c.AD_SKIP||e==c.PLAY)return!0}else if(t==u.BUFFERING_DURING_PLAYBACK){if(e==c.PAUSE_ON_BUFFERING||e==c.END||e==c.AD_SKIP||e==c.SEEK_START||e==c.PAUSE||e==c.PLAY)return!0}else if(t==u.BUFFERING_DURING_SEEKING){if(e==c.END||e==c.AD_SKIP||e==c.PAUSE||e==c.PLAY)return!0}else if(t==u.PAUSED_DURING_BUFFERING&&(e==c.END||e==c.AD_SKIP||e==c.BUFFER_STOP||e==c.PLAY))return!0;return!1}function i(e,t,n){var s=w.getStateMachine().getCurrentState();e==c.AD_SKIP&&!n.hasOwnProperty("ns_st_ui")&&a(e)?n.ns_st_ui="skip":e==c.SEEK_START&&!n.hasOwnProperty("ns_st_ui")&&a(e)&&(n.ns_st_ui="seek"),s==u.IDLE?e==c.BUFFER?B.onBuffer(t,n):e==c.SEEK_START?B.onSeekStart(t,n):e==c.PLAY&&B.onPlay(t,n):s==u.PLAYBACK_NOT_STARTED?e==c.END||e==c.AD_SKIP?U.onEndOrAdSkip(t,n):e==c.SEEK_START?U.onSeekStart(t,n):e==c.PLAY?U.onPlay(t,n):e==c.BUFFER&&U.onBuffer(t,n):s==u.PLAYING?e==c.END||e==c.AD_SKIP?O.onEndOrAdSkip(t,n):e==c.BUFFER?O.onBuffer(t,n):e==c.SEEK_START?O.onSeekStart(t,n):e==c.PAUSE&&O.onPause(t,n):s==u.PAUSED?e==c.END||e==c.AD_SKIP?R.onEndOrAdSkip(t,n):e==c.PLAY?R.onPlay(t,n):e==c.BUFFER?q.onBufferWhenSeekingOrPaused(t,n):e==c.SEEK_START&&q.onSeekStartWhenPausedOrBufferingDuringPause(t,n):s==u.BUFFERING_BEFORE_PLAYBACK?e==c.END||e==c.AD_SKIP?F.onEndOrAdSkip(t,n):e==c.BUFFER_STOP?F.onBufferStop(t,n):e==c.SEEK_START?F.onSeekStart(t,n):e==c.PAUSE?F.onPause(t,n):e==c.PLAY&&F.onPlay(t,n):s==u.BUFFERING_DURING_PLAYBACK?e==c.PAUSE_ON_BUFFERING?x.onPauseOnBuffering(t,n):e==c.BUFFER_STOP?q.onBufferStopOrOnPlayWhenBufferingDuringPlayback(t,n):e==c.END||e==c.AD_SKIP?x.onEndOrAdSkip(t,n):e==c.SEEK_START?x.onSeekStart(t,n):e==c.PAUSE?x.onPause(t,n):e==c.PLAY&&q.onBufferStopOrOnPlayWhenBufferingDuringPlayback(t,n):s==u.BUFFERING_DURING_SEEKING?e==c.END||e==c.AD_SKIP?G.onEndOrAdSkip(t,n):e==c.PAUSE?G.onPause(t,n):e==c.PLAY?G.onPlay(t,n):e==c.BUFFER_STOP&&q.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,n):s==u.BUFFERING_DURING_PAUSE?e==c.END||e==c.AD_SKIP?M.onEndAndSkip(t,n):e==c.PAUSE?M.onPause(t,n):e==c.PLAY?M.onPlay(t,n):e==c.SEEK_START?q.onSeekStartWhenPausedOrBufferingDuringPause(t,n):e==c.BUFFER_STOP&&q.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,n):s==u.SEEKING_BEFORE_PLAYBACK?e==c.END||e==c.AD_SKIP?j.onEndOrAdSkip(t,n):e==c.PAUSE?j.onPause(t,n):e==c.PLAY?j.onPlay(t,n):e==c.BUFFER&&q.onBufferWhenSeekingOrPaused(t,n):s==u.SEEKING_DURING_PLAYBACK?e==c.END||e==c.AD_SKIP?V.onEndOrAdSkip(t,n):e==c.PLAY?V.onPlay(t,n):e==c.BUFFER?q.onBufferWhenSeekingOrPaused(t,n):e==c.PAUSE&&q.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,n):s==u.SEEKING_DURING_BUFFERING?e==c.PAUSE?Y.onPause(t,n):e==c.BUFFER?q.onBufferWhenSeekingOrPaused(t,n):e==c.PLAY?q.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==c.END||e==c.AD_SKIP?q.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==c.BUFFER_STOP&&q.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):s==u.PAUSED_DURING_BUFFERING?e==c.END||e==c.AD_SKIP?K.onEndOrAdSkip(t,n):e==c.BUFFER_STOP?K.onBufferStop(t,n):e==c.SEEK_START?K.onSeekStart(t,n):e==c.PAUSE?K.onPause(t,n):e==c.PLAY&&K.onPlay(t,n):s==u.SEEKING_DURING_PAUSE&&(e==c.BUFFER?q.onBufferWhenSeekingOrPaused(t,n):e==c.PLAY?q.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==c.PAUSE?q.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,n):e==c.END||e==c.AD_SKIP?q.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,n):e==c.BUFFER_STOP&&q.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,n)),a(e)&&w.getPlaybackSession().setFirstEventSent(!0)}function f(e,n){for(var s,a=le.encodeURIComponent||escape,i=[],r=g.LABELS_ORDER,o=e.split("?"),c=o[0],u=o[1],l=u.split("&"),f=0,p=l.length;f<p;f++){var d=l[f].split("="),S=unescape(d[0]),y=unescape(d[1]);S&&(n[S]=y)}for(var _={},b=0,P=r.length;b<P;b++){var m=r[b];if(n.hasOwnProperty(m)){var k=n[m];void 0!==k&&null!=k&&(_[m]=!0,i.push(a(m)+"="+a(n[m])))}}for(var A in n)if(n.hasOwnProperty(A)){if(_[A])continue;var v=n[A];void 0!==v&&null!=v&&i.push(a(A)+"="+a(n[A]))}s=c+"?"+i.join("&"),s=s+(s.indexOf("&c8=")<0?"&c8="+a(ge.title):"")+(s.indexOf("&c7=")<0?"&c7="+a(ge.URL):"")+(s.indexOf("&c9=")<0?"&c9="+a(ge.referrer):"");var E=t.browserAcceptsLargeURLs()?g.URL_LENGTH_LIMIT:g.RESTRICTED_URL_LENGTH_LIMIT;if(s.length>E&&s.indexOf("&")>0){var h=s.substr(0,E-8).lastIndexOf("&");s=(s.substring(0,h)+"&ns_cut="+a(s.substring(h+1))).substr(0,E)}return s}var w,B,R,U,O,F,x,G,M,K,j,Y,V,q,H,W,z,$,J,X,Q,Z,ee,te,ne,se,ae=this,ie={},re=g.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,oe=g.THROTTLING_DELAY,ce={},ue=!1;t.extend(ae,{getConfiguration:function(){return e||{}},enableSystemClockJumpsDetection:function(e){(e<g.SYSTEM_CLOCK_JUMP_DETECTION_MINIMUM_INTERVAL||!e)&&(e=g.SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL),t.onSystemClockJump(function(e){se=e,ue=!0},e)},createLabels:function(e,n,s){var a=!1;if(e==c.HEARTBEAT){var i=isNaN($)?z:$;$=s,(s<i||ue)&&(a=!0,ue=!1,s<i?(w.getPlaybackSession().addInternalErrorFlag("1"),w.getLogging().infoLog("System clock jump detected","to the far past")):se?(w.getPlaybackSession().addInternalErrorFlag("3"),w.getLogging().infoLog("System clock jump detected","to the future")):(w.getPlaybackSession().addInternalErrorFlag("2"),w.getLogging().infoLog("System clock jump detected","to the near past")),s=i)}var r={};if("undefined"!=typeof document){var o=document;r.c7=o.URL,r.c8=o.title,r.c9=o.referrer}return r.ns_ts=+new Date+"",r.ns_st_ev=c.toString(e),r.ns_st_mp=g.DEFAULT_PLAYERNAME,r.ns_st_mv=g.STREAMINGANALYTICS_VERSION,r.ns_st_ub="0",r.ns_st_br="0",r.ns_st_pn="1",r.ns_st_tp="0",r.ns_st_it=l.toString(l.SINGLE_CLIP),r.ns_st_sv=g.STREAMINGANALYTICS_VERSION,r.ns_st_smv=g.MODEL_VERSION,r.ns_type="hidden",r.ns_st_ec=w.getEventManager().getEventCounter()+"",r.ns_st_ki=w.getKeepAlive().getInterval()+"",w.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?r.ns_st_po=w.getPlaybackSession().getAsset().getExpectedPlaybackPosition(s)+"":r.ns_st_po=ne+"",ne=parseInt(r.ns_st_po),t.extend(r,ae.getLabels()),w.getPlaybackSession().createLabels(r,s),t.extend(r,n),a&&(w.getPlaybackSession().setPlaybackTimestamp($-parseInt(r.ns_st_pt)),w.getPlaybackSession().getAsset().setPlaybackTimestamp($-parseInt(r.ns_st_pt)),w.getPlaybackSession().getAsset().setElapsedTimestamp($-parseInt(r.ns_st_et)),w.getStateMachine().getCurrentState()==u.BUFFERING_DURING_PLAYBACK&&w.getPlaybackSession().getAsset().setBufferingTimestamp($-parseInt(r.ns_st_bp))),{eventType:e,eventLabels:r}},newEvent:function(e,n,s,a){ae.stopDelayedTransitionTimer();var r=w.getStateMachine().getCurrentState(),o=w.getStateMachine().eventTypeToState(e);if(null==o||o==r)return void w.getLogging().infoLog("Ignored event:",c.toString(e),"during state",t.stateToString(r),s);if(ae.isThrottlingEnabled()&&(r==u.PLAYING||r==u.PAUSED)&&(o==u.PLAYING||o==u.PAUSED)&&!a){w.getLogging().infoLog("Throttled event:",c.toString(e),"during state",t.stateToString(r),s,ae.getThrottlingDelay(),"ms");var l=function(e,t,s){return function(){ae.newEvent(e,n,s,!0)}}(e,o,s);return void(Z=w.getPlatformAPI().setTimeout(l,ae.getThrottlingDelay()))}var g=isNaN($)?z:$;$=n;var f=!1;(n<g||ue)&&(f=!0,ue=!1,n<g?(w.getPlaybackSession().addInternalErrorFlag("1"),w.getLogging().infoLog("System clock jump detected","to the far past")):se?(w.getPlaybackSession().addInternalErrorFlag("3"),w.getLogging().infoLog("System clock jump detected","to the future")):(w.getPlaybackSession().addInternalErrorFlag("2"),w.getLogging().infoLog("System clock jump detected","to the near past")),n=g),s.ns_st_po||(w.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?w.getStateMachine().getCurrentState()==u.IDLE?s.ns_st_po="0":s.ns_st_po=w.getPlaybackSession().getAsset().getExpectedPlaybackPosition(n)+"":s.ns_st_po=ne+""),ne=parseInt(s.ns_st_po),w.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(s.ns_st_po)),i(e,n,s);var p=0;isNaN(w.getStateMachine().getLastStateChangeTimestamp())||(p=n-w.getStateMachine().getLastStateChangeTimestamp()),w.getStateMachine().newEvent(e,n),f&&(o!=u.IDLE&&o!=u.PLAYBACK_NOT_STARTED&&o!=u.SEEKING_BEFORE_PLAYBACK&&o!=u.BUFFERING_BEFORE_PLAYBACK&&w.getPlaybackSession().getAsset().setElapsedTimestamp($),o!=u.BUFFERING_BEFORE_PLAYBACK&&o!=u.BUFFERING_DURING_PAUSE&&o!=u.BUFFERING_DURING_PLAYBACK&&o!=u.BUFFERING_DURING_SEEKING&&o!=u.PAUSED_DURING_BUFFERING||(w.getPlaybackSession().setBufferingTimestamp($),w.getPlaybackSession().getAsset().setBufferingTimestamp($)),o!=u.PLAYING&&o!=u.BUFFERING_DURING_PLAYBACK||(w.getPlaybackSession().setPlaybackTimestamp($),w.getPlaybackSession().getAsset().setPlaybackTimestamp($)),o!=u.SEEKING_BEFORE_PLAYBACK&&o!=u.SEEKING_DURING_BUFFERING&&o!=u.SEEKING_DURING_PAUSE&&o!=u.SEEKING_DURING_PLAYBACK&&o!=u.BUFFERING_DURING_SEEKING||w.getPlaybackSession().getAsset().setSeekingTimestamp($)),w.getLogging().log("Transition from",t.stateToString(r),"to",t.stateToString(o),"due to event:",c.toString(e));for(var d=0,S=ee.length;d<S;d++)ee[d](r,o,s,p)},newPseudoEvent:function(e,n,s){if((e==c.LOAD||e==c.ENGAGE)&&w.getStateMachine().getCurrentState()!=u.IDLE)return void w.getLogging().infoLog("Ignored pseudo-event:",c.toString(e),"during state",t.stateToString(w.getStateMachine().getCurrentState()),s);e==c.ERROR&&null==s.ns_st_er&&(s.ns_st_er=o.UNKNOWN_VALUE),e==c.TRANSFER&&null==s.ns_st_rp&&(s.ns_st_rp=o.UNKNOWN_VALUE);var a,i,r,l,g=!0,f=!1;switch(e){case c.BIT_RATE:a="ns_st_br",i="ns_st_pbr";break;case c.PLAYBACK_RATE:a="ns_st_rt",i="ns_st_prt";break;case c.VOLUME:a="ns_st_vo",i="ns_st_pvo";break;case c.WINDOW_STATE:a="ns_st_ws",i="ns_st_pws";break;case c.AUDIO:a="ns_st_at",i="ns_st_pat";break;case c.VIDEO:a="ns_st_vt",i="ns_st_pvt";break;case c.SUBS:a="ns_st_tt",i="ns_st_ptt";break;case c.CDN:a="ns_st_cdn",i="ns_st_pcdn";break;default:g=!1}if(g&&a in s)switch(l=s[a],e){case c.BIT_RATE:case c.VOLUME:case c.WINDOW_STATE:a in ce&&(r=ce[a],s[i]=r,f=l==r+""),ce[a]=s[a];break;case c.AUDIO:case c.VIDEO:case c.SUBS:case c.CDN:w.getPlaybackSession().getAsset().hasInternalLabel(a)&&(r=w.getPlaybackSession().getAsset().getInternalLabel(a),s[i]=r,f=l==r+""),w.getPlaybackSession().getAsset().setInternalLabel(a,s[a]);break;case c.PLAYBACK_RATE:r=w.getPlaybackSession().getAsset().getPlaybackRate(),s[i]=r+""}if(g&&w.getStateMachine().getCurrentState()!=u.PLAYING&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK||g&&f)return e==c.PLAYBACK_RATE&&w.getPlaybackSession().getAsset().setPlaybackRate(parseInt(s.ns_st_rt)),void w.getLogging().infoLog("No measurement send for the pseudo-event:",c.toString(e),"during state",t.stateToString(w.getStateMachine().getCurrentState()),s);var p=isNaN($)?z:$;$=n;var d=!1;(n<p||ue)&&(d=!0,ue=!1,n<p?(w.getPlaybackSession().addInternalErrorFlag("1"),w.getLogging().infoLog("System clock jump detected","to the far past")):se?(w.getPlaybackSession().addInternalErrorFlag("3"),w.getLogging().infoLog("System clock jump detected","to the future")):(w.getPlaybackSession().addInternalErrorFlag("2"),w.getLogging().infoLog("System clock jump detected","to the near past")),n=p),s.ns_st_po||(w.getPlaybackSession().getAsset().isAutoCalculatePositionsEnabled()?s.ns_st_po=w.getPlaybackSession().getAsset().getExpectedPlaybackPosition(n)+"":s.ns_st_po=ne+""),ne=parseInt(s.ns_st_po),w.getPlaybackSession().getAsset().setPlaybackTimeOffset(parseInt(s.ns_st_po)),w.getStateMachine().getCurrentState()!=u.IDLE&&w.getStateMachine().getCurrentState()!=u.PLAYBACK_NOT_STARTED&&w.getStateMachine().getCurrentState()!=u.SEEKING_BEFORE_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_BEFORE_PLAYBACK&&(w.getPlaybackSession().getAsset().addElapsedTime(n),w.getPlaybackSession().getAsset().setElapsedTimestamp(n)),w.getStateMachine().getCurrentState()!=u.PLAYING&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK||(w.getPlaybackSession().addPlaybackTime(n),w.getPlaybackSession().setPlaybackTimestamp(n),w.getPlaybackSession().getAsset().addPlaybackTime(n),w.getPlaybackSession().getAsset().setPlaybackTimestamp(n),w.getPlaybackSession().getAsset().addInterval(parseInt(s.ns_st_po)),w.getPlaybackSession().getAsset().setPlaybackStartPosition(parseInt(s.ns_st_po))),w.getStateMachine().getCurrentState()!=u.BUFFERING_BEFORE_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PAUSE&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_SEEKING||(w.getPlaybackSession().addBufferingTime(n),w.getPlaybackSession().setBufferingTimestamp(n),w.getPlaybackSession().getAsset().addBufferingTime(n),w.getPlaybackSession().getAsset().setBufferingTimestamp(n));var S=ae.createLabels(e,s,n);w.getPlaybackSession().getAsset().updateDeltaLabels(S.eventLabels),w.getPlaybackSession().getAsset().updateIndependentLabels(S.eventLabels),w.getEventManager().newEvent(S),e==c.PLAYBACK_RATE&&w.getPlaybackSession().getAsset().setPlaybackRate(parseInt(s.ns_st_rt)),d&&(w.getStateMachine().getCurrentState()!=u.PLAYING&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK||(w.getPlaybackSession().setPlaybackTimestamp($),w.getPlaybackSession().getAsset().setPlaybackTimestamp($)),w.getStateMachine().getCurrentState()!=u.IDLE&&w.getStateMachine().getCurrentState()!=u.PLAYBACK_NOT_STARTED&&w.getStateMachine().getCurrentState()!=u.SEEKING_BEFORE_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_BEFORE_PLAYBACK&&w.getPlaybackSession().getAsset().setElapsedTimestamp($),w.getStateMachine().getCurrentState()!=u.BUFFERING_BEFORE_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PAUSE&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_SEEKING&&w.getStateMachine().getCurrentState()!=u.PAUSED_DURING_BUFFERING||(w.getPlaybackSession().setBufferingTimestamp($),w.getPlaybackSession().getAsset().setBufferingTimestamp($)),w.getStateMachine().getCurrentState()!=u.SEEKING_BEFORE_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.SEEKING_DURING_BUFFERING&&w.getStateMachine().getCurrentState()!=u.SEEKING_DURING_PAUSE&&w.getStateMachine().getCurrentState()!=u.SEEKING_DURING_PLAYBACK&&w.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_SEEKING||w.getPlaybackSession().getAsset().setSeekingTimestamp($))},getState:function(){return w.getStateMachine().getCurrentState()},addListener:function(e){ee.push(e)},removeListener:function(e){ee.splice(t.indexOf(e,ee),1)},getLabel:function(e){return ce[e]},getLabels:function(){return ce},setLabel:function(e,t){null==t?delete ce[e]:ce[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&ae.setLabel(t,e[t])},getPlatformAPI:function(){return w.getAppCore()?w.getAppCore().getPlatformAPI():r},getExports:function(){return ie},isProperlyInitialized:function(){var e=w.getAppCore().getAppContext(),t=w.getAppCore().getSalt(),n=w.getAppCore().getPixelURL();return e&&n&&t},setThrottlingDelay:function(e){oe=e},getThrottlingDelay:function(){return oe},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return H},setLoadingTimeSent:function(e){H=e},getLoadTimeOffset:function(){return W},setLoadTimeOffset:function(e){W=e},getInitTimestamp:function(){return z},setPauseOnBufferingInterval:function(e){re=e},getPauseOnBufferingInterval:function(){return re},isPauseOnBufferingEnabled:function(){return J},setPauseOnBufferingEnabled:function(e){J=e},startPausedOnBufferingTimer:function(e,n){ae.stopPausedOnBufferingTimer(),X=ae.getPlatformAPI().setTimeout(function(){var e={},s=t.fixEventTime(e),a=parseInt(n.ns_st_po);e.ns_st_po=a+"",ae.newEvent(c.PAUSE_ON_BUFFERING,s,e)},re)},stopPausedOnBufferingTimer:function(){null!=X&&(ae.getPlatformAPI().clearTimeout(X),X=null)},stopDelayedTransitionTimer:function(){Z&&(ae.getPlatformAPI().clearTimeout(Z),Z=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var s=e.substring(n+1).split("&"),a=0,i=s.length;a<i;a++){var r=s[a],o=r.split("=");2==o.length?ae.setLabel(o[0],t(o[1])):1==o.length&&ae.setLabel(g.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,n+1)}}else e+="?";return te=e},getLiveEndpointURL:function(){return te||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?te=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?te=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getStaSM:function(){return w},resetPlaybackSession:function(e){var t=w.getPlaybackSession();w.setPlaybackSession(new p(w)),p.resetPlaybackSession(w,t,e)},resetHeartbeat:function(){w.getHeartbeat().pause();var e=w.getHeartbeat().getIntervals();w.setHeartbeat(new S(w)),w.getHeartbeat().setIntervals(e)}});var le,ge;t.isBrowser()?(le=window,ge=document):(le={},ge={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(ae,{prepareUrl:f}),s()}}(),D=function(){return function(e){var n,s,a,i,r,o,c,u=this;t.extend(u,{getAppCore:function(){return n},getStaCore:function(){return e},getEventManager:function(){return s},getStateMachine:function(){return a},getHeartbeat:function(){return i},getKeepAlive:function(){return r},getPlaybackSession:function(){return o},getLogging:function(){return c},setAppCore:function(e){n=e},setKeepAlive:function(e){r=e},setHeartbeat:function(e){i=e},setEventManager:function(e){s=e},setStateMachine:function(e){a=e},setPlaybackSession:function(e){o=e},setLogging:function(e){c=e}})}}(),B=function(){return function(e){function n(){e=t.extend({},e),i=new w(e),i.getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",e)}function s(e){var n,s;if(n="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},s="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,c.toString(e)){n=t.jsonObjectToStringDictionary(n);var a=t.fixEventTime(n);n.ns_st_po||isNaN(s)||(n.ns_st_po=t.parseInteger(s,0)+""),e==c.PLAY||e==c.PAUSE||e==c.BUFFER||e==c.END||e==c.SEEK_START||e==c.AD_SKIP||e==c.BUFFER_STOP?i.newEvent(e,a,n):i.newPseudoEvent(e,a,n)}}function a(){o&&i.getStaSM().getStateMachine().getCurrentState()!=u.IDLE&&r.notifyEnd()}var i,r=this,o=!0;t.extend(this,{isProperlyInitialized:function(){return i.isProperlyInitialized()},reset:function(e){s(c.END);var t=i;t.getStaSM().getKeepAlive().stop(),t.getStaSM().getHeartbeat().pause(),i=new w(t.getConfiguration()),p.resetPlaybackSession(i.getStaSM(),t.getStaSM().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){i.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return i.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){i.getStaSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return i.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){i.getStaSM().getHeartbeat().setIntervals(e)},notifyPlay:function(e,t){i.getStaSM().getLogging().apiCall("notifyPlay",e,t),s(c.PLAY,e,t)},notifyPause:function(e,t){i.getStaSM().getLogging().apiCall("notifyPause",e,t),s(c.PAUSE,e,t)},notifyEnd:function(e,t){i.getStaSM().getLogging().apiCall("notifyEnd",e,t),s(c.END,e,t)},notifyBufferStart:function(e,t){i.getStaSM().getLogging().apiCall("notifyBufferStart",e,t),s(c.BUFFER,e,t)},notifyBufferStop:function(e,t){i.getStaSM().getLogging().apiCall("notifyBufferStop",e,t),s(c.BUFFER_STOP,e,t)},notifyLoad:function(e,t){i.getStaSM().getLogging().apiCall("notifyLoad",e,t),s(c.LOAD,e,t)},notifyEngage:function(e,t){i.getStaSM().getLogging().apiCall("notifyEngage",e,t),s(c.ENGAGE,e,t)},notifySeekStart:function(e,t){i.getStaSM().getLogging().apiCall("notifySeekStart",e,t),s(c.SEEK_START,e,t)},notifySkipAd:function(e,t){i.getStaSM().getLogging().apiCall("notifySkipAd",e,t),s(c.AD_SKIP,e,t)},notifyCallToAction:function(e,t){i.getStaSM().getLogging().apiCall("notifyCallToAction",e,t),s(c.CTA,e,t)},notifyError:function(e,t){i.getStaSM().getLogging().apiCall("notifyError",e,t),s(c.ERROR,e,t)},notifyTransferPlayback:function(e,t){i.getStaSM().getLogging().apiCall("notifyTransferPlayback",e,t),s(c.TRANSFER,e,t)},notifyDrmFail:function(e,t){i.getStaSM().getLogging().apiCall("notifyDrmFail",e,t),s(c.DRM_FAILED,e,t)},notifyDrmApprove:function(e,t){i.getStaSM().getLogging().apiCall("notifyDrmApprove",e,t),s(c.DRM_APPROVED,e,t)},notifyDrmDeny:function(e,t){i.getStaSM().getLogging().apiCall("notifyDrmDeny",e,t),s(c.DRM_DENIED,e,t)},notifyChangeBitrate:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeBitrate",e,t,n),null!=e){var a=n||{};a.ns_st_br=e+"",s(c.BIT_RATE,a,t)}},notifyChangePlaybackRate:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangePlaybackRate",e,t,n),null!=e){var a=n||{};a.ns_st_rt=e+"",s(c.PLAYBACK_RATE,a,t)}},notifyChangeVolume:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeVolume",e,t,n),null!=e){var a=n||{};a.ns_st_vo=e+"",s(c.VOLUME,a,t)}},notifyChangeWindowState:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeWindowState",e,t,n),null!=e){var a=n||{};a.ns_st_ws=e+"",s(c.WINDOW_STATE,a,t)}},notifyChangeAudioTrack:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeAudioTrack",e,t,n),null!=e){var a=n||{};a.ns_st_at=e+"",s(c.AUDIO,a,t)}},notifyChangeVideoTrack:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeVideoTrack",e,t,n),null!=e){var a=n||{};a.ns_st_vt=e+"",s(c.VIDEO,a,t)}},notifyChangeSubtitleTrack:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeSubtitleTrack",e,t,n),null!=e){var a=n||{};a.ns_st_tt=e+"",s(c.SUBS,a,t)}},notifyChangeCdn:function(e,t,n){if(i.getStaSM().getLogging().apiCall("notifyChangeCdn",e,t,n),null!=e){var a=n||{};a.ns_st_cdn=e+"",s(c.CDN,a,t)}},notifyCustomEvent:function(e,t){i.getStaSM().getLogging().apiCall("notifyCustomEvent",e,t),s(c.CUSTOM,e,t)},getLabels:function(){return i.getLabels()},getState:function(){return i.getStaSM().getStateMachine().getCurrentState()},setLabels:function(e){i.setLabels(e)},getLabel:function(e){return i.getLabel(e)},setLabel:function(e,t){i.setLabel(e,t)},getLoadTimeOffset:function(){return i.getLoadTimeOffset()},setLoadTimeOffset:function(e){i.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return i.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return i.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return i.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){i.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return i.isThrottlingEnabled()},setThrottlingEnabled:function(e){i.setThrottlingEnabled(e)},setThrottlingDelay:function(e){i.setThrottlingDelay(e)},getThrottlingDelay:function(){return i.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){i.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return i.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){i.getStaSM().getLogging().apiCall("createPlaybackSession",e),e=t.jsonObjectToStringDictionary(e);var n=i.getStaSM().getStateMachine().getCurrentState();n!=u.IDLE&&(i.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",t.stateToString(n)),r.notifyEnd()),i.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&i.resetPlaybackSession(),i.getStaSM().getPlaybackSession().setLabels(e)},getVersion:function(){return g.STREAMINGANALYTICS_VERSION},addListener:function(e){i.addListener(e)},removeListener:function(e){i.removeListener(e)},addMeasurementListener:function(e){i.getStaSM().getEventManager().addMeasurementListener(e)},removeMeasurementListener:function(e){i.getStaSM().getEventManager().removeMeasurementListener(e)},getPlaybackSession:function(){return i.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(e){o=e},isExitEndEventEnabled:function(){return o},getPlatformAPI:function(){return i.getPlatformAPI()},_getLogHistory:function(){return i.getStaSM().getLogging().getLogHistory()}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",a),window.addEventListener("unload",a)):window.attachEvent&&(window.attachEvent("onbeforeunload",a),window.attachEvent("onunload",a))),n()}}();return B.PlayerEvents=c,B.InternalStates=u,B.ImplementationType=l,B.Constants=g,B}(),e.ReducedRequirementsStreamingAnalytics=e.ReducedRequirementsStreamingAnalytics||function(){var s={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},a={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},i=e.StreamingAnalytics,r=e.StreamingAnalytics.InternalStates||null,o=e.StreamingAnalytics.ImplementationType||null,c=null!=e.StreamingAnalytics.InternalStates&&null!=e.StreamingAnalytics.ImplementationType,u=e.StreamingAnalytics.Constants,l=function(e){function l(){c&&(t.exists(e)&&(e.customerC2||e.publisherId)||t.getNamespace().comScore?P=new i(e):A.error("Cannot instantiate StreamingAnalytics","The property publisherId was not provided (or incorrectly provided) in the StreamingAnalytics configuration."),P&&P.setLabel("ns_st_it",o.toString(o.REDUCED)))}function g(e){for(var t in u.STANDARD_METADATA_LABELS)if(u.STANDARD_METADATA_LABELS.hasOwnProperty(t)&&!f(u.STANDARD_METADATA_LABELS[t],y,e))return!1;return!0}function f(e,n,s){return!!(t.exists(e)&&t.exists(n)&&t.exists(s)&&(n.hasOwnProperty(e)&&s.hasOwnProperty(e)&&n[e]===s[e]||!n.hasOwnProperty(e)&&!s.hasOwnProperty(e)))}function p(e){P.getPlaybackSession().setAsset(e),y=e,P.notifyPlay()}function d(e){var t=e||{};t.ns_st_ad="1",t.ns_st_an=++_+"",P.getPlaybackSession().setAsset(t),P.notifyPlay(),b=!1}function S(e,t){k==m.None&&(k=t),b&&k==t&&g(e)?(P.getPlaybackSession().getAsset().setLabels(e),P.getState()!=r.PLAYING&&P.notifyPlay()):p(e),b=!0,k=t}var y=null,_=0,b=!1,P=null,m={None:0,AudioContent:1,VideoContent:2},k=m.None,A=new n("TTSTA",(e||{}).debug);t.extend(this,{playVideoAdvertisement:function(e,n){if(P){A.apiCall("playVideoAdvertisement",e,n);var s={ns_st_ct:"va"};n?s.ns_st_ct="va"+n:A.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),n!=a.LinearLive&&n!=a.BrandedOnDemandLive||(s.ns_st_li="1"),e&&t.extend(s,e),d(s)}},playAudioAdvertisement:function(e,n){if(P){A.apiCall("playAudioAdvertisement",e,n);var s={ns_st_ct:"aa"};n?s.ns_st_ct="aa"+n:A.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),n!=a.LinearLive&&n!=a.BrandedOnDemandLive||(s.ns_st_li="1"),e&&t.extend(s,e),d(s)}},playVideoContentPart:function(e,n){if(P){A.apiCall("playVideoContentPart",e,n);var a={ns_st_ct:"vc"};n?a.ns_st_ct="vc"+n:A.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),n!=s.Live&&n!=s.UserGeneratedLive||(a.ns_st_li="1"),e&&t.extend(a,e),S(a,m.VideoContent)}},playAudioContentPart:function(e,n){if(P){A.apiCall("playAudioContentPart",e,n);var a={ns_st_ct:"ac"};n?a.ns_st_ct="ac"+n:A.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),n!=s.Live&&n!=s.UserGeneratedLive||(a.ns_st_li="1"),e&&t.extend(a,e),S(a,m.AudioContent)}},stop:function(){P&&(A.apiCall("stop"),P.notifyPause())}}),l()};return l.ContentType=s,l.AdType=a,l}(),e})},function(e,t){__IASVANS=function(e){var t={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(e){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(r.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+e)].join(""))}catch(e){n.report("smp",e)}},sendUrlRequest:function(e,t){var n,s;if(e){n=this.getWindow();try{s=new n.XMLHttpRequest,t&&(s.onreadystatechange=t),s.open("GET",e),s.send()}catch(e){}}},getWindow:function(){return window},getDocument:function(){return document},generateUID:function(){var e,t="";try{for(e=0;8>e;e++)t=[t,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(e){}return t},noop:function(){}},n=function(){var e={};return{report:function(n,s){if(!e[n])try{e[n]=!0,t.sendUrlRequest(["//fw.adsafeprotected.com/jsdiagnostic?code:vans-js_",encodeURIComponent(r.getPartnerId()),"_",n,"&err:",encodeURIComponent(s.message)].join(""))}catch(e){}}}}(),s=function(){var e,s=!1,a=function(e){return e==r()&&(s=!0,i.flushUnsentEvents()),s?"jv3":null},r=function(){return e||(e=t.generateUID()),e};return{getVideoId:r,setNodeInterface:function(e){var s,i,o=r();try{s="IASid"+o,i="blockAd"+o,e.className+=" integral-vid-"+o,e[i]=t.noop,e[s]=a,e.getVersion=function(){return"3.2.1"}}catch(e){n.report("sni",e)}},isEstablished:function(){return s},resetHandshake:function(){s=!1}}}(),a=function(){var e,a=function(){var e=function(e){return void 0!==e},t=function(){var t="u";try{e(window.opera)&&e(window.opera.buildNumber)?t="o":e(window.mozInnerScreenY)?t="g":e(window.chrome)&&e(window.chrome.csi)?t="c":e(window.msWriteProfilerMark)&&e(window.crypto)?t="e":e(window.attachEvent)||e(window.msCrypto)?t="i":e(window.WebKitPoint)&&(t="w")}catch(e){}return t}(),n=function(){var t=function(t){for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];""!==s&&"null"!==s&&"undefined"!==s&&null!==s&&e(s)||delete t[n]}return t},n=function(t){var n={},s,a;for(a in t)t.hasOwnProperty(a)&&(s=t[a],e(n[s])?n[s]+=a:n[s]=a);t={};for(a in n)n.hasOwnProperty(a)&&(s=n[a],t[s]=a);return t};return function(){var s=function(){var t={g:"",q:""};try{t.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(i){var n=i.message,n=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">")),s;if((s=e(n))&&(s=!1,e(window.navigator)&&e(window.navigator.userAgent))){var a=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==a&&2==a.length&&(a=a[1].split("."),3==parseInt(a[0],10)&&6>=parseInt(a[1],10)&&(3==a.length?13>=parseInt(a[2],10)&&(s=!0):s=!0))}s&&(t.g=n)}return t},a={};try{a.a=encodeURIComponent(top.location.href)}catch(e){}try{a.b=encodeURIComponent(parent.location.href)}catch(e){}if(window!=top){try{a.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{a.e=encodeURIComponent(window.document.referrer)}catch(e){}}try{a.d=encodeURIComponent(window.location.href)}catch(e){}try{var i=s();a.g=encodeURIComponent(i.g),a.q=encodeURIComponent(i.q)}catch(e){}var a=t(a),a=n(a),s=[],r;for(r in a)a.hasOwnProperty(r)&&s.push({key:r,val:a[r]});return s.sort(function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0}),s}()}();return{br:t,urls:n}},r=function(e,t,a){var i=["//fw.adsafeprotected.com/db2/video/",t,"/",a,"/skeleton.js?videoId=",s.getVideoId()].join("");t=function(e){i=[i,"&adsafe_url=",e.val,"&adsafe_type=",e.key].join("")};try{e.urls.forEach(t),i=[i,"&adsafe_jsinfo=br:",e.br].join("")}catch(e){n.report("bvu",e)}return i},o=function(){if(4==this.readyState)if(i.sendPerfSample(40),200==this.status)try{e("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(e){n.report("ba",e)}else n.report("blk_url_req_err",{message:this.status})};return{init:function(n,s,c){var u=a();i.sendPerfSample(30),n=r(u,n,s),e=c,t.sendUrlRequest(n,o)}}}(),i=function(){var e=[],a=function(a){if(s.isEstablished())try{t.getWindow().postMessage(JSON.stringify(a),"*")}catch(e){n.report("dm",e)}else try{e.push(a)}catch(e){n.report("cm",e)}},i=function(e,i){try{a({messageType:e,id:s.getVideoId(),time:t.now(),partner:r.getPartnerId(),eventData:i})}catch(e){n.report("se",e)}};return{sendEvent:i,flushUnsentEvents:function(){try{e.forEach(a)}catch(e){n.report("fue",e)}},sendPerfSample:function(e){i("PerfCheckpoint",{type:"vans",code:e,timestamp:t.now()})}}}(),r=function(){var r,o=function(t,a){var i,r=e||"fw.adsafeprotected.com",o=function(e){var t="";return Object.keys(e).forEach(function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(t+="&"+n+"="+e[n])}),t};try{i=["//",r,t,"?videoId=",s.getVideoId(),o(a)].join("")}catch(e){n.report("bsurl",e)}return i},c=function(e,n){var s,a=t.getDocument();try{if(s=a.createElement("script"),s.src=o(e,n),a.body)a.body.insertBefore(s,a.body.firstChild);else if(a.head)a.head.appendChild(s);else{if(!a.documentElement)throw Error();a.documentElement.appendChild(s)}}catch(e){t.sendMonitoringPixel("inj_err")}};return{initCM:function(e,a){if(!e.partner)throw Error("missing partnerId");i.sendPerfSample(20),r=e.partner;try{if(!e.anId)throw Error("missing anId");t.sendMonitoringPixel("cminit"),s.setNodeInterface(a),c("/jsvid",e)}catch(e){n.report("icm",e)}},initFW:function(e,o,u){var l;if(!e.partner)throw Error("missing partnerId");i.sendPerfSample(20),r=e.partner;try{if(!e.advEntityId||!e.pubEntityId)throw Error("missing client id: advEntityId: "+e.advEntityId+" ,pubEntityId: "+e.pubEntityId);t.sendMonitoringPixel("fwinit"),u&&a.init(e.advEntityId,e.pubEntityId,u),l="/fwjsvid/st/"+e.advEntityId+"/"+e.pubEntityId+"/skeleton.js",s.setNodeInterface(o),c(l,e)}catch(e){n.report("ifw",e)}},getPartnerId:function(){return r}}}();return i.sendPerfSample(10),{initFW:r.initFW,initCM:r.initCM,sendEvent:i.sendEvent}},e.exports=__IASVANS},function(e,t,n){/*! Flight v1.5.2 | (c) Twitter, Inc. | MIT License */
!function t(n,s){e.exports=s()}(this,function(){return function(e){function t(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var s,a;s=[n(1),n(2),n(3),n(4),n(5),n(6),n(7)],void 0!==(a=function(e,t,n,s,a,i,r){"use strict";return{advice:e,component:t,compose:n,debug:s,logger:a,registry:i,utils:r}}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(7)],void 0!==(a=function(e){"use strict";var t={around:function(e,t){return function n(){var s=0,a=arguments.length,i=new Array(a+1);for(i[0]=e.bind(this);s<a;s++)i[s+1]=arguments[s];return t.apply(this,i)}},before:function(e,t){var n="function"==typeof t?t:t.obj[t.fnName];return function t(){return n.apply(this,arguments),e.apply(this,arguments)}},after:function(e,t){var n="function"==typeof t?t:t.obj[t.fnName];return function t(){var s=(e.unbound||e).apply(this,arguments);return n.apply(this,arguments),s}},withAdvice:function(){["before","after","around"].forEach(function(n){this[n]=function(s,a){var i=s.trim().split(" ");i.forEach(function(s){e.mutateProperty(this,s,function(){return"function"==typeof this[s]?this[s]=t[n](this[s],a):this[s]=a,this[s]})},this)}},this)}};return t}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(1),n(7),n(3),n(8),n(6),n(5),n(4)],void 0!==(a=function(e,t,n,s,a,i,r){"use strict";function o(){var e=a.findComponentInfo(this);e&&Object.keys(e.instances).forEach(function(t){var n=e.instances[t];n&&n.instance&&n.instance.teardown()})}function c(e){for(var n=arguments.length,s=new Array(n-1),i=1;i<n;i++)s[i-1]=arguments[i];if(!e)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var r=t.merge.apply(t,s),o=a.findComponentInfo(this);$(e).each(function(e,t){o&&o.isAttachedTo(t)||(new this).initialize(t,r)}.bind(this))}function u(){var e=this.mixedIn||this.prototype.mixedIn||[];return e.map(function(e){if(null==e.name){var t=e.toString().match(g);return t&&t[1]?t[1]:""}return f[e.name]?"":e.name}).filter(Boolean).join(", ")}function l(){for(var g=arguments.length,f=new Array(g),p=0;p<g;p++)f[p]=arguments[p];var d=function(){};return d.toString=d.prototype.toString=u,r.enabled&&(d.describe=d.prototype.describe=d.toString()),d.attachTo=c,d.mixin=function(){var e=l(),s=Object.create(d.prototype);return s.mixedIn=[].concat(d.prototype.mixedIn),s.defaults=t.merge(d.prototype.defaults),s.attrDef=d.prototype.attrDef,n.mixin(s,arguments),e.prototype=s,e.prototype.constructor=e,e},d.teardownAll=o,r.enabled&&f.unshift(i),f.unshift(s,e.withAdvice,a.withRegistration),n.mixin(d.prototype,f),d}var g=/function (.*?)\s?\(/,f={withBase:!0,withLogging:!0};return l.teardownAll=function(){a.components.slice().forEach(function(e){e.component.teardownAll()}),a.reset()},l}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(7)],void 0!==(a=function(e){"use strict";function t(t,n){Object.keys(t).forEach(function(a){s.indexOf(a)<0&&e.propertyWritability(t,a,n)})}function n(e,n){e.mixedIn=Object.prototype.hasOwnProperty.call(e,"mixedIn")?e.mixedIn:[];for(var s=0;s<n.length;s++)-1==e.mixedIn.indexOf(n[s])&&(t(e,!1),n[s].call(e),e.mixedIn.push(n[s]));t(e,!0)}var s=["mixedIn","attrDef"];return{mixin:n}}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(6)],void 0!==(a=function(e){"use strict";function t(e,n,s){s=s||{};var a=s.obj||window,i=s.path||(a==window?"window":""),r=Object.keys(a);r.forEach(function(s){(S[e]||e)(n,a,s)&&console.log([i,".",s].join(""),"->",["(",typeof a[s],")"].join(""),a[s]),"[object Object]"==Object.prototype.toString.call(a[s])&&a[s]!=a&&-1==i.split(".").indexOf(s)&&t(e,n,{obj:a[s],path:[i,s].join(".")})})}function n(e,n,s,a){n&&typeof s!=n?console.error([s,"must be",n].join(" ")):t(e,s,a)}function s(e,t){n("name","string",e,t)}function a(e,t){n("nameContains","string",e,t)}function i(e,t){n("type","function",e,t)}function r(e,t){n("value",null,e,t)}function o(e,t){n("valueCoerced",null,e,t)}function c(e,n){t(e,null,n)}function u(){var e=[].slice.call(arguments);_.eventNames.length||(_.eventNames=y),_.actions=e.length?e:y,p()}function l(){var e=[].slice.call(arguments);_.actions.length||(_.actions=y),_.eventNames=e.length?e:y,p()}function g(){_.actions=[],_.eventNames=[],p()}function f(){_.actions=y,_.eventNames=y,p()}function p(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",_.eventNames),localStorage.setItem("logFilter_actions",_.actions))}catch(e){}}function d(){var e,t;try{e=window.localStorage&&localStorage.getItem("logFilter_eventNames"),t=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(e){return}e&&(_.eventNames=e),t&&(_.actions=t),Object.keys(_).forEach(function(e){var t=_[e];"string"==typeof t&&t!==y&&(_[e]=t?t.split(","):[])})}var S={name:function(e,t,n){return e==n},nameContains:function(e,t,n){return n.indexOf(e)>-1},type:function(e,t,n){return t[n]instanceof e},value:function(e,t,n){return t[n]===e},valueCoerced:function(e,t,n){return t[n]==e}},y="all",_={eventNames:[],actions:[]};return{enable:function(e){this.enabled=!!e,e&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),d(),window.DEBUG=this},warn:function(){if(window.console){var e=console.warn||console.log,t=[].slice.call(arguments);t.unshift(this.toString()+":"),e.apply(console,t)}},registry:e,find:{byName:s,byNameContains:a,byType:i,byValue:r,byValueCoerced:o,custom:c},events:{logFilter:_,logByAction:u,logByName:l,logAll:f,logNone:g}}}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(7)],void 0!==(a=function(e){"use strict";function t(e){var t=e.tagName?e.tagName.toLowerCase():e.toString(),n=e.className?"."+e.className:"",s=t+n;return e.tagName?["'","'"].join(s):s}function n(e,n,s){if(window.DEBUG&&window.DEBUG.enabled){var i,r,o,c,u,l,g,f,p,d;"function"==typeof s[s.length-1]&&(c=s.pop(),c=c.unbound||c),1==s.length?(o=n.$node[0],r=s[0]):2!=s.length||"object"!=typeof s[1]||s[1].type?(o=s[0],r=s[1],"trigger"==e&&(u=s[2])):(o=n.$node[0],r=s[0],"trigger"==e&&(u=s[1])),i="object"==typeof r?r.type:r,l=window.DEBUG.events.logFilter,f="all"==l.actions||l.actions.indexOf(e)>-1,g=function(e){return e.test?e:new RegExp("^"+e.replace(/\*/g,".*")+"$")},p="all"==l.eventNames||l.eventNames.some(function(e){return g(e).test(i)}),f&&p&&(d=[a[e],e,"["+i+"]"],u&&d.push(u),d.push(t(o)),d.push(n.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&"trigger"==e&&console.groupCollapsed(e,i),Function.prototype.apply.call(console.info,console,d))}}function s(){this.before("trigger",function(){n("trigger",this,e.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){n("on",this,e.toArray(arguments))}),this.before("off",function(){n("off",this,e.toArray(arguments))})}var a={on:"<-",trigger:"->",off:"x "};return s}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[],void 0!==(a=function(){"use strict";function e(e,t){var n,s,a,i=t.length;return"function"==typeof t[i-1]&&(i-=1,a=t[i]),"object"==typeof t[i-1]&&(i-=1),2==i?(n=t[0],s=t[1]):(n=e.node,s=t[0]),{element:n,type:s,callback:a}}function t(e,t){return e.element==t.element&&e.type==t.type&&(null==t.callback||e.callback==t.callback)}function n(){function n(e){this.component=e,this.attachedTo=[],this.instances={},this.addInstance=function(e){var t=new s(e);return this.instances[e.identity]=t,this.attachedTo.push(e.node),t},this.removeInstance=function(e){delete this.instances[e.identity];var t=this.attachedTo.indexOf(e.node);t>-1&&this.attachedTo.splice(t,1),Object.keys(this.instances).length||a.removeComponentInfo(this)},this.isAttachedTo=function(e){return this.attachedTo.indexOf(e)>-1}}function s(e){this.instance=e,this.events=[],this.addBind=function(e){this.events.push(e),a.events.push(e)},this.removeBind=function(e){for(var n=0,s;s=this.events[n];n++)t(s,e)&&this.events.splice(n,1)}}var a=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(e){var t=this.findComponentInfo(e);t||(t=new n(e.constructor),this.components.push(t));var s=t.addInstance(e);return this.allInstances[e.identity]=s,t},this.removeInstance=function(e){var t=this.findComponentInfo(e);t&&t.removeInstance(e),delete this.allInstances[e.identity]},this.removeComponentInfo=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},this.findComponentInfo=function(e){for(var t=e.attachTo?e:e.constructor,n=0,s;s=this.components[n];n++)if(s.component===t)return s;return null},this.findInstanceInfo=function(e){return this.allInstances[e.identity]||null},this.getBoundEventNames=function(e){return this.findInstanceInfo(e).events.map(function(e){return e.type})},this.findInstanceInfoByNode=function(e){var t=[];return Object.keys(this.allInstances).forEach(function(n){var s=this.allInstances[n];s.instance.node===e&&t.push(s)},this),t},this.on=function(t){for(var n=a.findInstanceInfo(this),s,i=arguments.length,r=1,o=new Array(i-1);r<i;r++)o[r-1]=arguments[r];if(n){s=t.apply(null,o),s&&(o[o.length-1]=s);var c=e(this,o);n.addBind(c)}},this.off=function(){var n=e(this,arguments),s=a.findInstanceInfo(this);s&&s.removeBind(n);for(var i=0,r;r=a.events[i];i++)t(r,n)&&a.events.splice(i,1)},a.trigger=function(){},this.teardown=function(){a.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){a.addInstance(this)}),this.around("on",a.on),this.after("off",a.off),window.DEBUG&&(!1).enabled&&this.after("trigger",a.trigger),this.after("teardown",{obj:a,fnName:"teardown"})}}return new n}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(4)],void 0!==(a=function(e){"use strict";function t(){var t=e.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(t)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(e){return!1}return t}var n=100,s={isDomObj:function(e){return!(!e.nodeType&&e!==window)},toArray:function(e,t){t=t||0;for(var n=e.length,s=new Array(n-t),a=t;a<n;a++)s[a-t]=e[a];return s},merge:function(){var e=arguments.length,t=new Array(e+1);if(0===e)return{};for(var n=0;n<e;n++)t[n+1]=arguments[n];return t[0]={},!0===t[t.length-1]&&(t.pop(),t.unshift(!0)),$.extend.apply(void 0,t)},push:function(e,t,n){return e&&Object.keys(t||{}).forEach(function(s){if(e[s]&&n)throw new Error('utils.push attempted to overwrite "'+s+'" while running in protected mode');"object"==typeof e[s]&&"object"==typeof t[s]?this.push(e[s],t[s]):e[s]=t[s]},this),e},getEnumerableProperty:function(e,t){return e.propertyIsEnumerable(t)?e[t]:void 0},compose:function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},uniqueArray:function(e){for(var t={},n=[],s=0,a=e.length;s<a;++s)t.hasOwnProperty(e[s])||(n.push(e[s]),t[e[s]]=1);return n},debounce:function(e,t,n){"number"!=typeof t&&(t=100);var s,a;return function(){var i=this,r=arguments,o=function(){s=null,n||(a=e.apply(i,r))},c=n&&!s;return s&&clearTimeout(s),s=setTimeout(o,t),c&&(a=e.apply(i,r)),a}},throttle:function(e,t){"number"!=typeof t&&(t=100);var n,s,a,i,r,o,c=this.debounce(function(){r=i=!1},t);return function(){n=this,s=arguments;var u=function(){a=null,r&&(o=e.apply(n,s)),c()};return a||(a=setTimeout(u,t)),i?r=!0:(i=!0,o=e.apply(n,s)),c(),o}},countThen:function(e,t){return function(){if(!--e)return t.apply(this,arguments)}},delegate:function(e){return function(t,n){var s=$(t.target),a;Object.keys(e).forEach(function(i){if(!t.isPropagationStopped()&&(a=s.closest(i)).length)return n=n||{},t.currentTarget=n.el=a[0],e[i].apply(this,[t,n])},this)}},once:function(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},propertyWritability:function(e,n,s){t()&&e.hasOwnProperty(n)&&Object.defineProperty(e,n,{writable:s})},mutateProperty:function(e,n,s){var a;if(!t()||!e.hasOwnProperty(n))return void s.call(e);a=Object.getOwnPropertyDescriptor(e,n).writable,Object.defineProperty(e,n,{writable:!0}),s.call(e),Object.defineProperty(e,n,{writable:a})}};return s}.apply(t,s))&&(e.exports=a)},function(e,t,n){var s,a;s=[n(7),n(6),n(4)],void 0!==(a=function(e,t,n){"use strict";function s(e){e&&e.events.slice().forEach(function(e){var t=[e.type];e.element&&t.unshift(e.element),"function"==typeof e.callback&&t.push(e.callback),this.off.apply(this,t)},e.instance)}function a(e,t){try{window.postMessage(t,"*")}catch(t){n.warn.call(this,['Event "',e,'" was triggered with non-serializable data. ',"Flight recommends you avoid passing non-serializable data in events."].join(""))}}function i(e){n.warn.call(this,['Attribute "',e,'" defaults to an array or object. ',"Enclose this in a function to avoid sharing between component instances."].join(""))}function r(e){var t=[],s;if(this.attr=new this.attrDef,n.enabled&&window.console){for(var a in this.attrDef.prototype)t.push(a);s=Object.keys(e);for(var r=s.length-1;r>=0;r--)if(-1==t.indexOf(s[r])){n.warn.call(this,'Passed unused attribute "'+s[r]+'".');break}}for(var a in this.attrDef.prototype){if(void 0===e[a]){if(null===this.attr[a])throw new Error('Required attribute "'+a+'" not specified in attachTo for component "'+this.toString()+'".');n.enabled&&"object"==typeof this.attr[a]&&i.call(this,a)}else this.attr[a]=e[a];"function"==typeof this.attr[a]&&(this.attr[a]=this.attr[a].call(this))}}function o(e){n.enabled&&n.warn.call(this,"defaultAttrs will be removed in a future version. Please use attributes.");var t=Object.create(e);for(var s in this.defaults)e.hasOwnProperty(s)||(t[s]=this.defaults[s],n.enabled&&"object"==typeof this.defaults[s]&&i.call(this,s));this.attr=t,Object.keys(this.defaults||{}).forEach(function(e){if(null===this.defaults[e]&&null===this.attr[e])throw new Error('Required attribute "'+e+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function c(e){return function(t,n){$(t.target).trigger(e,n)}}function u(){this.trigger=function(){var e,t,s,i,r,o=arguments.length-1,c=arguments[o];return"string"==typeof c||c&&c.defaultBehavior||(o--,s=c),1==o?(e=$(arguments[0]),i=arguments[1]):(e=this.$node,i=arguments[0]),i.defaultBehavior&&(r=i.defaultBehavior,i=$.Event(i.type)),t=i.type||i,n.enabled&&window.postMessage&&a.call(this,t,s),"object"==typeof this.attr.eventData&&(s=$.extend(!0,{},this.attr.eventData,s)),e.trigger(i||t,s),r&&!i.isDefaultPrevented()&&(this[r]||r).call(this,i,s),e},this.on=function(){var t,n,s,a,i=arguments.length-1,r=arguments[i];if(a="object"==typeof r?e.delegate(this.resolveDelegateRules(r)):"string"==typeof r?c(r):r,2==i?(t=$(arguments[0]),n=arguments[1]):(t=this.$node,n=arguments[0]),"function"!=typeof a&&"object"!=typeof a)throw new Error('Unable to bind to "'+n+'" because the given callback is not a function or an object');return s=a.bind(this),s.target=a,s.context=this,t.on(n,s),a.bound||(a.bound=[]),a.bound.push(s),s},this.off=function(){var e,n,s,a=arguments.length-1;if("function"==typeof arguments[a]&&(s=arguments[a],a-=1),1==a?(e=$(arguments[0]),n=arguments[1]):(e=this.$node,n=arguments[0]),s){var i=s.target?s.target.bound:s.bound||[];i&&i.some(function(e,t,n){if(e.context&&this.identity==e.context.identity)return n.splice(t,1),s=e,!0},this),e.off(n,s)}else t.findInstanceInfo(this).events.forEach(function(t){n==t.type&&e.off(n,t.callback)});return e},this.resolveDelegateRules=function(e){var t={};return Object.keys(e).forEach(function(n){if(!(n in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+n+'" but no such attribute was defined.');t[this.attr[n]]="string"==typeof e[n]?c(e[n]):e[n]},this),t},this.select=function(e){return this.$node.find(this.attr[e])},this.attributes=function(e){var t=function(){};this.attrDef&&(t.prototype=new this.attrDef);for(var n in e)t.prototype[n]=e[n];this.attrDef=t},this.defaultAttrs=function(t){e.push(this.defaults,t,!0)||(this.defaults=t)},this.initialize=function(e,t){if(t=t||{},this.identity||(this.identity=l++),!e)throw new Error("Component needs a node");return e.jquery?(this.node=e[0],this.$node=e):(this.node=e,this.$node=$(e)),this.attrDef?r.call(this,t):o.call(this,t),this},this.teardown=function(){var e=t.findInstanceInfo(this);e&&s(e)}}var l=0;return u}.apply(t,s))&&(e.exports=a)}])})},function(e,t,n){"use strict";var s=n(1),a=n(52),i=n(55),r=n(61),o=n(59),c=n(31),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(54);e.exports=function e(t){return new Promise(function e(l,g){var f=t.data,p=t.headers;s.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,S="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||o(t.url)||(d=new window.XDomainRequest,S="onload",y=!0,d.onprogress=function e(){},d.ontimeout=function e(){}),t.auth){var _=t.auth.username||"",b=t.auth.password||"";p.Authorization="Basic "+u(_+":"+b)}if(d.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[S]=function e(){if(d&&(4===d.readyState||y)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?r(d.getAllResponseHeaders()):null,s=t.responseType&&"text"!==t.responseType?d.response:d.responseText,i={data:s,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};a(l,g,i),d=null}},d.onerror=function e(){g(c("Network Error",t,null,d)),d=null},d.ontimeout=function e(){g(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},s.isStandardBrowserEnv()){var P=n(57),m=(t.withCredentials||o(t.url))&&t.xsrfCookieName?P.read(t.xsrfCookieName):void 0;m&&(p[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&s.forEach(p,function e(t,n){void 0===f&&"content-type"===n.toLowerCase()?delete p[n]:d.setRequestHeader(n,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function e(t){d&&(d.abort(),g(t),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,n){"use strict";function s(e){this.message=e}s.prototype.toString=function e(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,e.exports=s},function(e,t,n){"use strict";e.exports=function e(t){return!(!t||!t.__CANCEL__)}},function(e,t,n){"use strict";var s=n(51);e.exports=function e(t,n,a,i,r){var o=new Error(t);return s(o,n,a,i,r)}},function(e,t,n){"use strict";e.exports=function e(t,n){return function e(){for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];return t.apply(n,s)}}},,,,,,,,,,,,,,function(e,t,n){"use strict";function s(e){var t=new r(e),n=i(r.prototype.request,t);return a.extend(n,r.prototype,t),a.extend(n,t),n}var a=n(1),i=n(32),r=n(48),o=n(15),c=s(o);c.Axios=r,c.create=function e(t){return s(a.merge(o,t))},c.Cancel=n(29),c.CancelToken=n(47),c.isCancel=n(30),c.all=function e(t){return Promise.all(t)},c.spread=n(62),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function e(n){t=n});var n=this;e(function e(s){n.reason||(n.reason=new a(s),t(n.reason))})}var a=n(29);s.prototype.throwIfRequested=function e(){if(this.reason)throw this.reason},s.source=function e(){var t,n=new s(function e(n){t=n});return{token:n,cancel:t}},e.exports=s},function(e,t,n){"use strict";function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}var a=n(15),i=n(1),r=n(49),o=n(50),c=n(58),u=n(56);s.prototype.request=function e(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(a,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase(),t.baseURL&&!c(t.url)&&(t.url=u(t.baseURL,t.url));var n=[o,void 0],s=Promise.resolve(t);for(this.interceptors.request.forEach(function e(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function e(t){n.push(t.fulfilled,t.rejected)});n.length;)s=s.then(n.shift(),n.shift());return s},i.forEach(["delete","get","head","options"],function e(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function e(t){s.prototype[t]=function(e,n,s){return this.request(i.merge(s||{},{method:t,url:e,data:n}))}}),e.exports=s},function(e,t,n){"use strict";function s(){this.handlers=[]}var a=n(1);s.prototype.use=function e(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},s.prototype.eject=function e(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function e(t){a.forEach(this.handlers,function e(n){null!==n&&t(n)})},e.exports=s},function(e,t,n){"use strict";function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var a=n(1),i=n(53),r=n(30),o=n(15);e.exports=function e(t){s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function e(n){delete t.headers[n]});var n=t.adapter||o.adapter;return n(t).then(function e(n){return s(t),n.data=i(n.data,n.headers,t.transformResponse),n},function e(n){return r(n)||(s(t),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})}},function(e,t,n){"use strict";e.exports=function e(t,n,s,a,i){return t.config=n,s&&(t.code=s),t.request=a,t.response=i,t}},function(e,t,n){"use strict";var s=n(31);e.exports=function e(t,n,a){var i=a.config.validateStatus;a.status&&i&&!i(a.status)?n(s("Request failed with status code "+a.status,a.config,null,a.request,a)):t(a)}},function(e,t,n){"use strict";var s=n(1);e.exports=function e(t,n,a){return s.forEach(a,function e(s){t=s(t,n)}),t}},function(e,t,n){"use strict";function s(){this.message="String contains an invalid character"}function a(e){for(var t=String(e),n="",a,r,o=0,c=i;t.charAt(0|o)||(c="=",o%1);n+=c.charAt(63&a>>8-o%1*8)){if((r=t.charCodeAt(o+=.75))>255)throw new s;a=a<<8|r}return n}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.prototype=new Error,s.prototype.code=5,s.prototype.name="InvalidCharacterError",e.exports=a},function(e,t,n){"use strict";function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var a=n(1);e.exports=function e(t,n,i){if(!n)return t;var r;if(i)r=i(n);else if(a.isURLSearchParams(n))r=n.toString();else{var o=[];a.forEach(n,function e(t,n){null!==t&&void 0!==t&&(a.isArray(t)&&(n+="[]"),a.isArray(t)||(t=[t]),a.forEach(t,function e(t){a.isDate(t)?t=t.toISOString():a.isObject(t)&&(t=JSON.stringify(t)),o.push(s(n)+"="+s(t))}))}),r=o.join("&")}return r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),t}},function(e,t,n){"use strict";e.exports=function e(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}},function(e,t,n){"use strict";var s=n(1);e.exports=s.isStandardBrowserEnv()?function e(){return{write:function e(t,n,a,i,r,o){var c=[];c.push(t+"="+encodeURIComponent(n)),s.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),s.isString(i)&&c.push("path="+i),s.isString(r)&&c.push("domain="+r),!0===o&&c.push("secure"),document.cookie=c.join("; ")},read:function e(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function e(t){this.write(t,"",Date.now()-864e5)}}}():function e(){return{write:function e(){},read:function e(){return null},remove:function e(){}}}()},function(e,t,n){"use strict";e.exports=function e(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(e,t,n){"use strict";var s=n(1);e.exports=s.isStandardBrowserEnv()?function e(){function t(e){var t=e;return n&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}var n=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),i;return i=t(window.location.href),function e(n){var a=s.isString(n)?t(n):n;return a.protocol===i.protocol&&a.host===i.host}}():function e(){return function e(){return!0}}()},function(e,t,n){"use strict";var s=n(1);e.exports=function e(t,n){s.forEach(t,function e(s,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[a])})}},function(e,t,n){"use strict";var s=n(1);e.exports=function e(t){var n={},a,i,r;return t?(s.forEach(t.split("\n"),function e(t){r=t.indexOf(":"),a=s.trim(t.substr(0,r)).toLowerCase(),i=s.trim(t.substr(r+1)),a&&(n[a]=n[a]?n[a]+", "+i:i)}),n):n}},function(e,t,n){"use strict";e.exports=function e(t){return function e(n){return t.apply(null,n)}}},,,,,,,,,,,,,,,,,,,,,function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function s(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||s(e)||!!e._isBuffer)}},,,,,,,,,,function(e,t,n){n(27),n(13),n(25),n(26),n(17),n(2),e.exports=n(20)}],[93])});